"use strict";(self.webpackChunkshanhaijing_card_game=self.webpackChunkshanhaijing_card_game||[]).push([[955],{380:(e,t,r)=>{function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,_toPropertyKey(a.key),a)}}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_typeof(t)?t:t+""}r(52675),r(89463),r(2259),r(23792),r(26099),r(47764),r(62953),r(45700),r(89572),r(2892);var a=new(function(){return function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(function MessageManager(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MessageManager),this.container=null,this.currentMessage=null,this.init()},[{key:"init",value:function init(){this.container=document.createElement("div"),this.container.id="global-message-container",this.container.className="message-container",this.container.innerHTML='\n            <div class="message-overlay hidden" id="message-overlay"></div>\n            <div class="message-dialog hidden" id="message-dialog">\n                <div class="message-content">\n                    <div class="message-icon" id="message-icon"></div>\n                    <div class="message-text" id="message-text"></div>\n                </div>\n            </div>\n        ',document.body.appendChild(this.container),this.bindEvents(),this.addStyles()}},{key:"bindEvents",value:function bindEvents(){var e=this;document.getElementById("message-overlay").addEventListener("click",function(){e.hide()}),document.addEventListener("keydown",function(t){"Escape"!==t.key||e.isHidden()||e.hide()})}},{key:"addStyles",value:function addStyles(){if(!document.getElementById("message-styles")){var e=document.createElement("style");e.id="message-styles",e.textContent="\n            .message-container {\n                position: fixed;\n                top: 0;\n                left: 0;\n                width: 100%;\n                height: 100%;\n                pointer-events: none;\n                z-index: 9999;\n            }\n            \n            .message-overlay {\n                position: absolute;\n                top: 0;\n                left: 0;\n                width: 100%;\n                height: 100%;\n                background: rgba(0, 0, 0, 0.5);\n                opacity: 0;\n                transition: opacity 0.3s ease;\n                pointer-events: none;\n            }\n            \n            .message-overlay:not(.hidden) {\n                opacity: 1;\n                pointer-events: all;\n            }\n            \n            .message-dialog {\n                position: absolute;\n                top: 50%;\n                left: 50%;\n                transform: translate(-50%, -50%) scale(0.9);\n                background: white;\n                border-radius: 12px;\n                box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);\n                min-width: 320px;\n                max-width: 500px;\n                opacity: 0;\n                transition: all 0.3s ease;\n                pointer-events: none;\n            }\n            \n            .message-dialog:not(.hidden) {\n                opacity: 1;\n                transform: translate(-50%, -50%) scale(1);\n                pointer-events: all;\n            }\n            \n            .message-content {\n                padding: 24px;\n                text-align: center;\n            }\n            \n            .message-icon {\n                font-size: 48px;\n                margin-bottom: 16px;\n            }\n            \n            .message-icon.success {\n                color: #27ae60;\n            }\n            \n            .message-icon.error {\n                color: #e74c3c;\n            }\n            \n            .message-icon.warning {\n                color: #f39c12;\n            }\n            \n            .message-icon.info {\n                color: #3498db;\n            }\n            \n            .message-text {\n                font-size: 16px;\n                color: #333;\n                line-height: 1.5;\n                margin-bottom: 16px;\n                word-wrap: break-word;\n            }\n            \n\n            \n            @media (max-width: 480px) {\n                .message-dialog {\n                    margin: 20px;\n                    min-width: auto;\n                    max-width: none;\n                    left: 20px;\n                    right: 20px;\n                    transform: translateY(-50%) scale(0.9);\n                }\n                \n                .message-dialog:not(.hidden) {\n                    transform: translateY(-50%) scale(1);\n                }\n                \n                .message-content {\n                    padding: 20px;\n                }\n            }\n        ",document.head.appendChild(e)}}},{key:"show",value:function show(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3,n=document.getElementById("message-overlay"),s=document.getElementById("message-dialog"),c=document.getElementById("message-icon"),l=document.getElementById("message-text"),u={success:"✅",error:"❌",warning:"⚠️",info:"ℹ️"};return c.textContent=u[r]||u.info,c.className="message-icon ".concat(r),l.textContent=e,n.classList.remove("hidden"),s.classList.remove("hidden"),this.currentMessage=setTimeout(function(){t.hide()},a),this}},{key:"hide",value:function hide(){var e=document.getElementById("message-overlay"),t=document.getElementById("message-dialog");return e&&t&&(e.classList.add("hidden"),t.classList.add("hidden")),this.currentMessage&&(clearTimeout(this.currentMessage),this.currentMessage=null),this}},{key:"isHidden",value:function isHidden(){var e=document.getElementById("message-dialog");return!e||e.classList.contains("hidden")}},{key:"success",value:function success(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;return this.show(e,"success",t)}},{key:"error",value:function error(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4e3;return this.show(e,"error",t)}},{key:"warning",value:function warning(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4e3;return this.show(e,"warning",t)}},{key:"info",value:function info(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;return this.show(e,"info",t)}}])}());window.Message=a,window.showMessage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",r={success:2e3,error:4e3,warning:3e3,info:3e3}[t]||3e3;a.show(e,t,r)},console.log("✅ 全局消息组件已加载")},14822:(e,t,r)=>{r.r(t)},16738:(e,t,r)=>{r.r(t)},36099:(e,t,r)=>{r.r(t)},49078:(e,t,r)=>{r.r(t)},87006:(e,t,r)=>{function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,_toPropertyKey(a.key),a)}}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_typeof(t)?t:t+""}r(52675),r(89463),r(2259),r(23792),r(47764),r(62953),r(45700),r(28706),r(89572),r(62010),r(2892),r(26099),r(16034),r(23500);var a=function(){return function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(function ThemeManager(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ThemeManager),this.currentTheme="light",this.themes={light:{name:"亮色主题",icon:"🌞",class:"theme-light"},dark:{name:"暗色主题",icon:"🌙",class:"theme-dark"}},this.init()},[{key:"init",value:function init(){var e=this,t=localStorage.getItem("theme");t&&this.themes[t]?this.currentTheme=t:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(this.currentTheme="dark"),this.applyTheme(this.currentTheme),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",function(t){localStorage.getItem("theme")||e.setTheme(t.matches?"dark":"light")}),console.log("🎨 主题管理器初始化完成，当前主题:",this.currentTheme)}},{key:"setTheme",value:function setTheme(e){if(this.themes[e]){var t=this.currentTheme;this.currentTheme=e,this.applyTheme(e),localStorage.setItem("theme",e),this.dispatchThemeChangeEvent(t,e),console.log("🎨 主题已切换:",t,"->",e)}else console.error("未知主题:",e)}},{key:"applyTheme",value:function applyTheme(e){var t=this.themes[e],r=document.documentElement;Object.values(this.themes).forEach(function(e){r.classList.remove(e.class)}),r.classList.add(t.class),r.setAttribute("data-theme",e),this.updateThemeButton()}},{key:"toggleTheme",value:function toggleTheme(){var e="light"===this.currentTheme?"dark":"light";this.setTheme(e)}},{key:"getCurrentTheme",value:function getCurrentTheme(){return this.currentTheme}},{key:"getThemeInfo",value:function getThemeInfo(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||this.currentTheme;return this.themes[e]}},{key:"updateThemeButton",value:function updateThemeButton(){var e=document.querySelectorAll(".theme-toggle"),t=(this.themes[this.currentTheme],"light"===this.currentTheme?this.themes.dark:this.themes.light);e.forEach(function(e){var r=e.querySelector(".theme-icon"),a=e.querySelector(".theme-text");r&&(r.textContent=t.icon),a&&(a.textContent=t.name),e.title="切换到".concat(t.name),e.setAttribute("aria-label","切换到".concat(t.name))})}},{key:"dispatchThemeChangeEvent",value:function dispatchThemeChangeEvent(e,t){var r=new CustomEvent("themechange",{detail:{oldTheme:e,newTheme:t,themeInfo:this.themes[t]}});window.dispatchEvent(r)}},{key:"createThemeToggleButton",value:function createThemeToggleButton(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.className,a=void 0===r?"theme-toggle":r,n=t.showText,s=void 0!==n&&n,c=t.size,l=void 0===c?"medium":c,u=document.createElement("button");u.className="".concat(a," theme-toggle-btn theme-toggle-").concat(l);var m="light"===this.currentTheme?this.themes.dark:this.themes.light;return u.innerHTML='\n            <span class="theme-icon">'.concat(m.icon,"</span>\n            ").concat(s?'<span class="theme-text ml-2">'.concat(m.name,"</span>"):"","\n        "),u.title="切换到".concat(m.name),u.setAttribute("aria-label","切换到".concat(m.name)),u.addEventListener("click",function(){e.toggleTheme()}),u}},{key:"onThemeChange",value:function onThemeChange(e){window.addEventListener("themechange",e)}},{key:"offThemeChange",value:function offThemeChange(e){window.removeEventListener("themechange",e)}}])}();window.themeManager=new a,window.ThemeManager=a,window.toggleTheme=function(){return window.themeManager.toggleTheme()},window.setTheme=function(e){return window.themeManager.setTheme(e)},window.getCurrentTheme=function(){return window.themeManager.getCurrentTheme()},console.log("🎨 主题系统已加载")},90062:(e,t,r)=>{function _regenerator(){var e,t,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",n=r.toStringTag||"@@toStringTag";function i(r,a,n,c){var l=a&&a.prototype instanceof Generator?a:Generator,u=Object.create(l.prototype);return _regeneratorDefine2(u,"_invoke",function(r,a,n){var c,l,u,m=0,p=n||[],h=!1,g={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function d(t,r){return c=t,l=0,u=e,g.n=r,s}};function d(r,a){for(l=r,u=a,t=0;!h&&m&&!n&&t<p.length;t++){var n,c=p[t],y=g.p,b=c[2];r>3?(n=b===a)&&(u=c[(l=c[4])?5:(l=3,3)],c[4]=c[5]=e):c[0]<=y&&((n=r<2&&y<c[1])?(l=0,g.v=a,g.n=c[1]):y<b&&(n=r<3||c[0]>a||a>b)&&(c[4]=r,c[5]=a,g.n=b,l=0))}if(n||r>1)return s;throw h=!0,a}return function(n,p,y){if(m>1)throw TypeError("Generator is already running");for(h&&1===p&&d(p,y),l=p,u=y;(t=l<2?e:u)||!h;){c||(l?l<3?(l>1&&(g.n=-1),d(l,u)):g.n=u:g.v=u);try{if(m=2,c){if(l||(n="next"),t=c[n]){if(!(t=t.call(c,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=c.return)&&t.call(c),l<2&&(u=TypeError("The iterator does not provide a '"+n+"' method"),l=1);c=e}else if((t=(h=g.n<0)?u:r.call(a,g))!==s)break}catch(t){c=e,l=1,u=t}finally{m=1}}return{value:t,done:h}}}(r,n,c),!0),u}var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}t=Object.getPrototypeOf;var c=[][a]?t(t([][a]())):(_regeneratorDefine2(t={},a,function(){return this}),t),l=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,_regeneratorDefine2(e,n,"GeneratorFunction")),e.prototype=Object.create(l),e}return GeneratorFunction.prototype=GeneratorFunctionPrototype,_regeneratorDefine2(l,"constructor",GeneratorFunctionPrototype),_regeneratorDefine2(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName="GeneratorFunction",_regeneratorDefine2(GeneratorFunctionPrototype,n,"GeneratorFunction"),_regeneratorDefine2(l),_regeneratorDefine2(l,n,"Generator"),_regeneratorDefine2(l,a,function(){return this}),_regeneratorDefine2(l,"toString",function(){return"[object Generator]"}),(_regenerator=function _regenerator(){return{w:i,m:f}})()}function _regeneratorDefine2(e,t,r,a){var n=Object.defineProperty;try{n({},"",{})}catch(e){n=0}_regeneratorDefine2=function _regeneratorDefine(e,t,r,a){function o(t,r){_regeneratorDefine2(e,t,function(e){return this._invoke(t,r,e)})}t?n?n(e,t,{value:r,enumerable:!a,configurable:!a,writable:!a}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},_regeneratorDefine2(e,t,r,a)}function asyncGeneratorStep(e,t,r,a,n,s,c){try{var l=e[s](c),u=l.value}catch(e){return void r(e)}l.done?t(u):Promise.resolve(u).then(a,n)}function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise(function(a,n){var s=e.apply(t,r);function _next(e){asyncGeneratorStep(s,a,n,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(s,a,n,_next,_throw,"throw",e)}_next(void 0)})}}function getHeaderHTML(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return'\n        \x3c!-- 导航栏 --\x3e\n        <nav class="bg-gray-900 shadow-lg sticky top-0 z-50">\n            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">\n                <div class="flex justify-between h-16">\n                    \x3c!-- Logo区域 --\x3e\n                    <div class="flex items-center">\n                        <a href="/" class="flex-shrink-0 flex items-center">\n                            <span class="text-lg sm:text-xl font-bold text-white">新山海经</span>\n                        </a>\n                    </div>\n                    \n                    \x3c!-- 桌面端导航 --\x3e\n                    <div class="desktop-navigation hidden md:flex items-center space-x-6 lg:space-x-8" id="desktop-nav">\n                        <a href="/index.html" class="nav-link '.concat("index"===e?"text-indigo-600 font-semibold":"text-white hover:text-gray-300",' px-3 py-2 text-sm font-medium transition-colors">首页</a>\n                        <a href="/market.html" class="nav-link ').concat("market"===e?"text-indigo-600 font-semibold":"text-white hover:text-gray-300",' px-3 py-2 text-sm font-medium transition-colors">市场</a>\n                        <a href="/resale.html" class="nav-link ').concat("resale"===e?"text-indigo-600 font-semibold":"text-white hover:text-gray-300",' px-3 py-2 text-sm font-medium transition-colors">二手</a>\n                        <a href="/game.html" class="nav-link ').concat("game"===e?"text-indigo-600 font-semibold":"text-white hover:text-gray-300",' px-3 py-2 text-sm font-medium transition-colors">游戏</a>\n                    </div>\n                    \n                    \x3c!-- 用户操作区域 --\x3e\n                    <div class="flex items-center space-x-2 sm:space-x-4">\n                        \x3c!-- 登录状态区域 --\x3e\n                        <div id="auth-area">\n                            <button class="bg-indigo-600 text-white px-3 py-2 sm:px-4 sm:py-2 rounded-lg hover:bg-indigo-700 transition-colors text-sm" id="login-button">登录</button>\n                        </div>\n                        \n                        \x3c!-- 移动端菜单按钮 --\x3e\n                        <button class="md:hidden p-2 text-white hover:text-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-gray-900" \n                                id="mobile-menu-button" \n                                aria-expanded="false" \n                                aria-controls="mobile-menu"\n                                aria-label="打开主菜单">\n                            <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">\n                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>\n                            </svg>\n                        </button>\n                    </div>\n                </div>\n                \n                \x3c!-- 移动端导航菜单 --\x3e\n                <div class="md:hidden hidden" id="mobile-menu" role="menu" aria-orientation="vertical">\n                    <div class="px-2 pt-2 pb-3 space-y-1 bg-gray-800 border-t border-gray-700">\n                        <a href="/index.html" class="').concat("index"===e?"bg-gray-700 text-indigo-600":"text-white hover:bg-gray-700",' block px-3 py-2 rounded-md text-base font-medium transition-colors mobile-nav-link" role="menuitem">首页</a>\n                        <a href="/market.html" class="').concat("market"===e?"bg-gray-700 text-indigo-600":"text-white hover:bg-gray-700",' block px-3 py-2 rounded-md text-base font-medium transition-colors mobile-nav-link" role="menuitem">市场</a>\n                        <a href="/resale.html" class="').concat("resale"===e?"bg-gray-700 text-indigo-600":"text-white hover:bg-gray-700",' block px-3 py-2 rounded-md text-base font-medium transition-colors mobile-nav-link" role="menuitem">二手</a>\n                        <a href="/game.html" class="').concat("game"===e?"bg-gray-700 text-indigo-600":"text-white hover:bg-gray-700",' block px-3 py-2 rounded-md text-base font-medium transition-colors mobile-nav-link" role="menuitem">游戏</a>\n                    </div>\n                </div>\n            </div>\n        </nav>\n    ')}function insertHeader(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";console.log("🔄 正在加载Header组件，当前页面:",e);var t=document.getElementById("header-container");if(t){var r=getHeaderHTML(e);t.innerHTML=r,console.log("✅ Header组件已加载到容器")}else{var a=getHeaderHTML(e);document.body.insertAdjacentHTML("afterbegin",a),console.log("✅ Header组件已直接插入到页面")}setTimeout(function(){bindHeaderEvents();var e=document.getElementById("desktop-nav"),t=document.getElementById("mobile-menu-button");if(console.log("🔍 导航元素检查:"),console.log("- 桌面端导航:",!!e,e?"可见":"不可见"),console.log("- 移动端菜单按钮:",!!t,t?"可见":"不可见"),e){var r=window.getComputedStyle(e);console.log("- 桌面端导航显示状态:",r.display)}},0)}function bindHeaderEvents(){var e=document.getElementById("mobile-menu-button"),t=document.getElementById("mobile-menu");e&&t&&(e.addEventListener("click",function(r){r.stopPropagation(),t.classList.toggle("hidden");var a=e.querySelector("svg path");t.classList.contains("hidden")?(a.setAttribute("d","M4 6h16M4 12h16M4 18h16"),e.setAttribute("aria-expanded","false")):(a.setAttribute("d","M6 18L18 6M6 6l12 12"),e.setAttribute("aria-expanded","true"))}),t.querySelectorAll(".mobile-nav-link").forEach(function(r){r.addEventListener("click",function(){t.classList.add("hidden"),e.querySelector("svg path").setAttribute("d","M4 6h16M4 12h16M4 18h16"),e.setAttribute("aria-expanded","false")})}),document.addEventListener("click",function(r){e.contains(r.target)||t.contains(r.target)||(t.classList.add("hidden"),e.querySelector("svg path").setAttribute("d","M4 6h16M4 12h16M4 18h16"),e.setAttribute("aria-expanded","false"))}));var r=document.getElementById("login-button");r&&r.addEventListener("click",function(){console.log("打开登录弹窗"),window.AuthModule&&"function"==typeof window.AuthModule.showAuthModal?window.AuthModule.showAuthModal():(console.warn("认证模块未加载或不包含showAuthModal函数"),window.location.href="/login.html")}),checkLoginStatus()}function updateCartCount(e){console.log("钱包余额:",e)}function formatUsername(e){if(!e||e.length<=4)return e;var t=e.slice(-4);return"***".concat(t)}function checkLoginStatus(){return _checkLoginStatus.apply(this,arguments)}function _checkLoginStatus(){return(_checkLoginStatus=_asyncToGenerator(_regenerator().m(function _callee2(){var e,t,r;return _regenerator().w(function(a){for(;;)switch(a.n){case 0:if(console.log("🔍 开始检查登录状态..."),e=localStorage.getItem("auth_token"),console.log("Token存在:",!!e),e){a.n=1;break}return console.log("未找到token，显示登录按钮"),updateAuthArea(!1),a.a(2);case 1:console.log("发现token，立即显示默认头像"),t=localStorage.getItem("username")||"用户",console.log("从localStorage获取的用户名:",t),r={username:formatUsername(t),avatar:"/icon.png"},console.log("用户信息:",r),updateAuthArea(!0,r);case 2:return a.a(2)}},_callee2)}))).apply(this,arguments)}function updateAuthArea(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;console.log("🔄 更新认证区域UI:",{isLoggedIn:e,userInfo:t});var r=document.getElementById("auth-area");r?e&&t?(console.log("显示用户信息界面"),r.innerHTML='\n            \x3c!-- 钱包按钮 --\x3e\n            <button class="relative p-2 text-white hover:text-gray-300 transition-colors" id="wallet-button" title="钱包">\n                <span class="text-xl sm:text-2xl">💰</span>\n            </button>\n            \n            \x3c!-- 用户菜单 --\x3e\n            <div class="relative">\n                <button class="flex items-center space-x-1 sm:space-x-2 p-1 rounded-full hover:bg-gray-800 transition-colors" id="user-menu-button">\n                    <img class="h-7 w-7 sm:h-8 sm:w-8 rounded-full object-cover user-avatar" \n                         src="/icon.png" \n                         alt="'.concat(t.username||"用户头像",'"\n                         onerror="this.src=\'/icon.png\'">\n                    <span class="text-xs sm:text-sm text-white hidden sm:block">').concat(t.username||"用户",'</span>\n                    <svg class="h-3 w-3 sm:h-4 sm:w-4 text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>\n                    </svg>\n                </button>\n                \n                \x3c!-- 下拉菜单 --\x3e\n                <div class="absolute right-0 mt-2 w-48 bg-white rounded-md dropdown-menu py-1 z-50 hidden shadow-lg border" id="user-dropdown">\n                    <div class="px-4 py-2 text-sm text-gray-500 border-b border-gray-100 sm:hidden">\n                        ').concat(t.username||"用户",'\n                    </div>\n                    <a href="/orders" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors">我的卡牌</a>\n                    <a href="/aiCreate" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors">AI创作</a>\n                    <button class="block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors" id="wallet-detail-button">钱包详情</button>\n                    <div class="border-t border-gray-100"></div>\n                    <button class="block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors" id="logout-button">退出登录</button>\n                </div>\n            </div>\n        '),setTimeout(function(){!function bindUserMenuEvents(){var e=document.getElementById("user-menu-button"),t=document.getElementById("user-dropdown"),r=document.getElementById("logout-button"),a=document.getElementById("wallet-button"),n=document.getElementById("wallet-detail-button");a&&a.addEventListener("click",function(e){e.stopPropagation(),console.log("打开钱包"),alert("钱包功能开发中...")});n&&n.addEventListener("click",function(){console.log("打开钱包详情"),t&&t.classList.add("hidden"),alert("钱包详情页面开发中...")});e&&t&&(e.addEventListener("click",function(e){e.stopPropagation(),t.classList.toggle("hidden")}),document.addEventListener("click",function(r){e.contains(r.target)||t.contains(r.target)||t.classList.add("hidden")}));r&&r.addEventListener("click",_asyncToGenerator(_regenerator().m(function _callee(){var e;return _regenerator().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,window.API.user.logout();case 1:t.n=3;break;case 2:t.p=2,e=t.v,console.error("退出登录失败:",e);case 3:return t.p=3,localStorage.removeItem("auth_token"),localStorage.removeItem("username"),localStorage.removeItem("token_data"),updateAuthArea(!1),window.location.reload(),t.f(3);case 4:return t.a(2)}},_callee,null,[[0,2,3,4]])})))}()},0)):(console.log("显示登录按钮"),r.innerHTML='\n            <button class="bg-indigo-600 text-white px-3 py-2 sm:px-4 sm:py-2 rounded-lg hover:bg-indigo-700 transition-colors text-sm" id="login-button">登录</button>\n        ',setTimeout(function(){var e=document.getElementById("login-button");e&&e.addEventListener("click",function(){console.log("打开登录弹窗"),window.AuthModule&&"function"==typeof window.AuthModule.showAuthModal?window.AuthModule.showAuthModal():(console.warn("认证模块未加载或不包含showAuthModal函数"),window.location.href="/login.html")})},0)):console.warn("未找到auth-area元素")}function refreshLoginStatus(){checkLoginStatus()}r(52675),r(89463),r(40875),r(10287),r(3362),r(28706),r(74423),r(34782),r(26099),r(99449),r(21699),r(23500),function(){function initHeader(){var e=window.location.pathname,t="";"/"===e||"/index.html"===e||e.endsWith("index.html")?t="index":"/market"===e||"/market.html"===e||e.endsWith("market.html")||"/card-detail"===e||"/card-detail.html"===e||e.endsWith("card-detail.html")||e.includes("card-detail")?t="market":"/resale"===e||"/resale.html"===e||e.endsWith("resale.html")?t="resale":("/game"===e||"/game.html"===e||e.endsWith("game.html"))&&(t="game"),t||(t="index"),console.log("当前活跃页面:",t,"路径:",e),console.log("🚀 初始化Header，当前页面:",t),insertHeader(t),setTimeout(function(){document.body.classList.remove("loading"),document.body.classList.add("loaded")},100)}document.body.classList.add("loading"),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",initHeader):initHeader()}(),window.HeaderModule={insertHeader,getHeaderHTML,updateCartCount,bindHeaderEvents,checkLoginStatus,updateAuthArea,refreshLoginStatus},window.insertHeader=insertHeader,window.updateCartCount=updateCartCount,window.refreshLoginStatus=refreshLoginStatus},90407:(e,t,r)=>{r(2259),r(23418),r(83851),r(81278),r(40875),r(10287),r(52675),r(89463),r(45700),r(28706),r(2008),r(50113),r(74423),r(23792),r(62062),r(34782),r(26910),r(89572),r(62010),r(2892),r(9868),r(79432),r(26099),r(3362),r(27495),r(38781),r(21699),r(47764),r(68156),r(5746),r(11392),r(23500),r(62953),r(3296),r(27208),r(48408);var a=["method","data","params","headers","timeout"];function _slicedToArray(e,t){return function _arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function _iterableToArrayLimit(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,n,s,c,l=[],u=!0,m=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(a=s.call(r)).done)&&(l.push(a.value),l.length!==t);u=!0);}catch(e){m=!0,n=e}finally{try{if(!u&&null!=r.return&&(c=r.return(),Object(c)!==c))return}finally{if(m)throw n}}return l}}(e,t)||function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}(e,t)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=Array(t);r<t;r++)a[r]=e[r];return a}function _regenerator(){var e,t,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",n=r.toStringTag||"@@toStringTag";function i(r,a,n,c){var l=a&&a.prototype instanceof Generator?a:Generator,u=Object.create(l.prototype);return _regeneratorDefine2(u,"_invoke",function(r,a,n){var c,l,u,m=0,p=n||[],h=!1,g={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function d(t,r){return c=t,l=0,u=e,g.n=r,s}};function d(r,a){for(l=r,u=a,t=0;!h&&m&&!n&&t<p.length;t++){var n,c=p[t],y=g.p,b=c[2];r>3?(n=b===a)&&(u=c[(l=c[4])?5:(l=3,3)],c[4]=c[5]=e):c[0]<=y&&((n=r<2&&y<c[1])?(l=0,g.v=a,g.n=c[1]):y<b&&(n=r<3||c[0]>a||a>b)&&(c[4]=r,c[5]=a,g.n=b,l=0))}if(n||r>1)return s;throw h=!0,a}return function(n,p,y){if(m>1)throw TypeError("Generator is already running");for(h&&1===p&&d(p,y),l=p,u=y;(t=l<2?e:u)||!h;){c||(l?l<3?(l>1&&(g.n=-1),d(l,u)):g.n=u:g.v=u);try{if(m=2,c){if(l||(n="next"),t=c[n]){if(!(t=t.call(c,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=c.return)&&t.call(c),l<2&&(u=TypeError("The iterator does not provide a '"+n+"' method"),l=1);c=e}else if((t=(h=g.n<0)?u:r.call(a,g))!==s)break}catch(t){c=e,l=1,u=t}finally{m=1}}return{value:t,done:h}}}(r,n,c),!0),u}var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}t=Object.getPrototypeOf;var c=[][a]?t(t([][a]())):(_regeneratorDefine2(t={},a,function(){return this}),t),l=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,_regeneratorDefine2(e,n,"GeneratorFunction")),e.prototype=Object.create(l),e}return GeneratorFunction.prototype=GeneratorFunctionPrototype,_regeneratorDefine2(l,"constructor",GeneratorFunctionPrototype),_regeneratorDefine2(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName="GeneratorFunction",_regeneratorDefine2(GeneratorFunctionPrototype,n,"GeneratorFunction"),_regeneratorDefine2(l),_regeneratorDefine2(l,n,"Generator"),_regeneratorDefine2(l,a,function(){return this}),_regeneratorDefine2(l,"toString",function(){return"[object Generator]"}),(_regenerator=function _regenerator(){return{w:i,m:f}})()}function _regeneratorDefine2(e,t,r,a){var n=Object.defineProperty;try{n({},"",{})}catch(e){n=0}_regeneratorDefine2=function _regeneratorDefine(e,t,r,a){function o(t,r){_regeneratorDefine2(e,t,function(e){return this._invoke(t,r,e)})}t?n?n(e,t,{value:r,enumerable:!a,configurable:!a,writable:!a}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},_regeneratorDefine2(e,t,r,a)}function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _objectWithoutProperties(e,t){if(null==e)return{};var r,a,n=function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function asyncGeneratorStep(e,t,r,a,n,s,c){try{var l=e[s](c),u=l.value}catch(e){return void r(e)}l.done?t(u):Promise.resolve(u).then(a,n)}function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise(function(a,n){var s=e.apply(t,r);function _next(e){asyncGeneratorStep(s,a,n,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(s,a,n,_next,_throw,"throw",e)}_next(void 0)})}}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(t){_defineProperty(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _defineProperty(e,t,r){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,_toPropertyKey(a.key),a)}}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_typeof(t)?t:t+""}var n="http://localhost:1992",s=1e4,c={"Content-Type":"application/json"},l=function(){return function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(function HttpClient(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,HttpClient),this.baseURL=e.baseURL||n,this.timeout=e.timeout||s,this.headers=_objectSpread(_objectSpread({},c),e.headers)},[{key:"createURL",value:function createURL(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.startsWith("http")?e:"".concat(this.baseURL).concat(e);if(0===Object.keys(t).length)return r;var a=new URL(r,window.location.origin);return Object.keys(t).forEach(function(e){null!==t[e]&&void 0!==t[e]&&a.searchParams.append(e,t[e])}),a.toString()}},{key:"request",value:(e=_asyncToGenerator(_regenerator().m(function _callee(e){var t,r,n,s,c,l,u,m,p,h,g,y,b,v,w,k,_,T,P,x,U,S=arguments;return _regenerator().w(function(C){for(;;)switch(C.p=C.n){case 0:return t=S.length>1&&void 0!==S[1]?S[1]:{},C.p=1,r=t.method,n=void 0===r?"GET":r,s=t.data,c=t.params,l=void 0===c?{}:c,u=t.headers,m=void 0===u?{}:u,p=t.timeout,h=void 0===p?this.timeout:p,g=_objectWithoutProperties(t,a),y=this.createURL(e,"GET"===n?l:{}),b=_objectSpread(_objectSpread({},this.headers),m),(v=localStorage.getItem("auth_token"))&&(b.Authorization="Bearer ".concat(v)),w=_objectSpread({method:n.toUpperCase(),headers:b},g),s&&"GET"!==n.toUpperCase()&&(s instanceof FormData?(delete w.headers["Content-Type"],w.body=s):"object"===_typeof(s)?w.body=JSON.stringify(s):w.body=s),k=new Promise(function(e,t){setTimeout(function(){return t(new Error("请求超时 (".concat(h,"ms)")))},h)}),C.n=2,Promise.race([fetch(y,w),k]);case 2:if((_=C.v).ok){C.n=3;break}throw(T=new Error("HTTP ".concat(_.status,": ").concat(_.statusText))).status=_.status,T.response=_,T;case 3:if(!(P=_.headers.get("content-type"))||!P.includes("application/json")){C.n=5;break}return C.n=4,_.json();case 4:x=C.v,C.n=9;break;case 5:if(!P||!P.includes("text/")){C.n=7;break}return C.n=6,_.text();case 6:x=C.v,C.n=9;break;case 7:return C.n=8,_.blob();case 8:x=C.v;case 9:return C.a(2,x);case 10:throw C.p=10,U=C.v,console.error("API请求失败:",U),401===U.status?(localStorage.removeItem("auth_token"),console.warn("用户未授权，请重新登录")):403===U.status?console.warn("权限不足"):404===U.status?console.warn("请求的资源不存在"):U.status>=500&&console.error("服务器错误"),U;case 11:return C.a(2)}},_callee,this,[[1,10]])})),function request(t){return e.apply(this,arguments)})},{key:"get",value:function get(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request(e,_objectSpread({method:"GET",params:t},r))}},{key:"post",value:function post(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request(e,_objectSpread({method:"POST",data:t},r))}},{key:"put",value:function put(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request(e,_objectSpread({method:"PUT",data:t},r))}},{key:"delete",value:function _delete(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request(e,_objectSpread({method:"DELETE"},t))}},{key:"patch",value:function patch(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request(e,_objectSpread({method:"PATCH",data:t},r))}},{key:"upload",value:function upload(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=new FormData;return t instanceof File?a.append("file",t):"object"===_typeof(t)&&Object.keys(t).forEach(function(e){a.append(e,t[e])}),this.post(e,a,r)}}]);var e}(),u=new l,m={getCardPage:function getCardPage(){var e=arguments;return _asyncToGenerator(_regenerator().m(function _callee2(){var t,r,a,n,s,c,l,u,m,p,h,g;return _regenerator().w(function(y){for(;;)if(0===y.n)return r=(t=e.length>0&&void 0!==e[0]?e[0]:{}).page,a=void 0===r?1:r,n=t.size,s=void 0===n?10:n,c=t.sort,l=t.pageDTO,p=(m=(a-1)*s)+s,h=(u=[{id:1001,name:"芭蕾舞者卡布奇诺",description:"优雅的芭蕾舞者，拥有咖啡的香醇和舞蹈的美妙",imageUrl:"Ballerina-Cappuccina.webp",rarity:"传说",element:"风",cardType:"生物",series:"意式咖啡",marketPrice:1200,status:1,attack:85,defense:70,health:90},{id:1002,name:"蓝莓章鱼",description:"来自深海的蓝莓味章鱼，触手间流淌着甜美的果汁",imageUrl:"Blueberrinni_Octopussiniwebp.webp",rarity:"史诗",element:"水",cardType:"生物",series:"海洋果味",marketPrice:800,status:1,attack:75,defense:80,health:85},{id:1003,name:"墨西哥卷饼强盗",description:"戴着宽边帽的卷饼强盗，手持辣椒武器",imageUrl:"Bobrito_Bandito.webp",rarity:"稀有",element:"火",cardType:"生物",series:"墨西哥美食",marketPrice:600,status:1,attack:90,defense:60,health:75},{id:1004,name:"炸弹古西尼",description:"会爆炸的意大利面条，危险而美味",imageUrl:"Bombombini-Gusini.webp",rarity:"稀有",element:"火",cardType:"法术",series:"意式料理",marketPrice:550,status:1,attack:95,defense:40,health:60},{id:1005,name:"安巴拉布娃娃",description:"神秘的巫毒娃娃，拥有古老的魔法力量",imageUrl:"Boneca-Ambalabu.webp",rarity:"传说",element:"暗",cardType:"法术",series:"神秘巫术",marketPrice:1500,status:1,attack:70,defense:90,health:95},{id:1006,name:"冰霜帕塔皮姆",description:"寒冷的冰霜精灵，每次攻击都带来刺骨寒意",imageUrl:"Brr-Brr-Patapim.webp",rarity:"史诗",element:"冰",cardType:"生物",series:"冰霜王国",marketPrice:900,status:1,attack:80,defense:85,health:80},{id:1007,name:"炸弹狂魔",description:"疯狂的炸弹专家，口中念着奇怪的咒语",imageUrl:"Brri_Brri_Bicus_Dicus_Bombicus.webp",rarity:"传说",element:"火",cardType:"生物",series:"爆炸军团",marketPrice:1800,status:1,attack:100,defense:50,health:70},{id:1008,name:"泡泡洛丽",description:"可爱的泡泡精灵，身体由彩色泡泡组成",imageUrl:"Burbaloni_Luliloli.webp",rarity:"普通",element:"风",cardType:"生物",series:"泡泡王国",marketPrice:200,status:1,attack:45,defense:55,health:50},{id:1009,name:"香蕉水豚",description:"热爱香蕉的水豚，总是带着满足的笑容",imageUrl:"Capybarelli_Bananalelli.webp",rarity:"稀有",element:"土",cardType:"生物",series:"热带动物",marketPrice:650,status:1,attack:65,defense:75,health:85},{id:1010,name:"香蕉黑猩猩",description:"聪明的黑猩猩，手中永远拿着新鲜香蕉",imageUrl:"Chimpanzini_Bananini.webp",rarity:"稀有",element:"土",cardType:"生物",series:"热带动物",marketPrice:700,status:1,attack:80,defense:60,health:70},{id:1011,name:"鳄鱼多",description:"奇特的鳄鱼生物，拥有独特的外形",imageUrl:"Crocodildo_Penisiniwebp.webp",rarity:"史诗",element:"水",cardType:"生物",series:"沼泽霸主",marketPrice:850,status:1,attack:90,defense:80,health:85},{id:1012,name:"菠萝鳄鱼",description:"热带鳄鱼，身上长满了菠萝鳞片",imageUrl:"Crocodillo_Ananasinno.webp",rarity:"稀有",element:"土",cardType:"生物",series:"热带沼泽",marketPrice:600,status:1,attack:85,defense:70,health:80},{id:1013,name:"大地之牛",description:"古老的大地守护者，拥有山岳般的力量",imageUrl:"earth-niu.webp",rarity:"UR",element:"土",cardType:"生物",series:"元素守护",marketPrice:4e3,status:1,attack:125,defense:130,health:150},{id:1014,name:"神秘之鱼",description:"来自深海的神秘鱼类，闪烁着奇异光芒",imageUrl:"fish-1.webp",rarity:"史诗",element:"水",cardType:"生物",series:"深海秘境",marketPrice:750,status:1,attack:70,defense:85,health:75},{id:1015,name:"冰箱骆驼",description:"背着冰箱的骆驼，为沙漠带来清凉",imageUrl:"Frigo-Camelo.webp",rarity:"稀有",element:"冰",cardType:"生物",series:"沙漠奇迹",marketPrice:680,status:1,attack:60,defense:90,health:85},{id:1016,name:"果汁弗鲁拉",description:"充满果汁的神奇生物，每次移动都会溅出甜美汁液",imageUrl:"Frulli_Frulla.webp",rarity:"普通",element:"土",cardType:"生物",series:"果汁王国",marketPrice:300,status:1,attack:50,defense:60,health:55},{id:1017,name:"咒语大师",description:"会念超长咒语的神秘法师",imageUrl:"Garamararamararaman_dan_Madudungdung_tak_tuntung_perkuntung.webp",rarity:"LR",element:"暗",cardType:"法术",series:"古老咒语",marketPrice:8e3,status:1,attack:160,defense:140,health:200},{id:1018,name:"天蓝长颈鹿",description:"优雅的天蓝色长颈鹿，头顶触及云端",imageUrl:"Girafa_Celeste.webp",rarity:"史诗",element:"风",cardType:"生物",series:"天空动物",marketPrice:950,status:1,attack:75,defense:70,health:95},{id:1019,name:"水果钻头怪",description:"拥有钻头的水果怪物，能够钻透任何障碍",imageUrl:"Glorbo_Fruttodrillo.webp",rarity:"史诗",element:"土",cardType:"生物",series:"机械水果",marketPrice:880,status:1,attack:95,defense:65,health:75},{id:1020,name:"仙人掌河马",description:"长满仙人掌刺的河马，沙漠中的霸主",imageUrl:"Il_Cacto_Hipopotamowebp.webp",rarity:"稀有",element:"土",cardType:"生物",series:"沙漠霸主",marketPrice:720,status:1,attack:85,defense:90,health:100},{id:1021,name:"意式脑残1号",description:"来自意大利的奇特生物，充满了意式幽默",imageUrl:"italian-brainrot1.webp",rarity:"普通",element:"风",cardType:"生物",series:"意式脑残",marketPrice:150,status:1,attack:40,defense:50,health:45},{id:1022,name:"意式脑残2号",description:"意式脑残系列的第二位成员",imageUrl:"italian-brainrot2.webp",rarity:"普通",element:"风",cardType:"生物",series:"意式脑残",marketPrice:160,status:1,attack:42,defense:48,health:50},{id:1023,name:"意式脑残3号",description:"意式脑残系列的第三位成员",imageUrl:"italian-brainrot3.webp",rarity:"普通",element:"风",cardType:"生物",series:"意式脑残",marketPrice:170,status:1,attack:44,defense:46,health:48},{id:1024,name:"意式脑残4号",description:"意式脑残系列的第四位成员",imageUrl:"italian-brainrot4.webp",rarity:"稀有",element:"风",cardType:"生物",series:"意式脑残",marketPrice:400,status:1,attack:60,defense:55,health:65},{id:1025,name:"意式脑残5号",description:"意式脑残系列的第五位成员",imageUrl:"italian-brainrot5.webp",rarity:"稀有",element:"风",cardType:"生物",series:"意式脑残",marketPrice:420,status:1,attack:62,defense:58,health:60},{id:1026,name:"意式脑残8号",description:"意式脑残系列的第八位成员",imageUrl:"italian-brainrot8.webp",rarity:"史诗",element:"风",cardType:"生物",series:"意式脑残",marketPrice:800,status:1,attack:78,defense:72,health:80},{id:1027,name:"土星奶牛",description:"来自土星的神秘奶牛，身上环绕着土星环",imageUrl:"La-Vaca-Saturno-Saturnita.webp",rarity:"UR",element:"光",cardType:"生物",series:"宇宙动物",marketPrice:3600,status:1,attack:118,defense:125,health:140},{id:1028,name:"丽丽拉丽拉",description:"会唱美妙歌曲的音乐精灵",imageUrl:"lirili-larila.webp",rarity:"稀有",element:"风",cardType:"法术",series:"音乐精灵",marketPrice:580,status:1,attack:55,defense:70,health:65},{id:1029,name:"香蕉猴子",description:"热爱香蕉的猴子，手中总是拿着香蕉",imageUrl:"Makakini_Bananiniwebp.webp",rarity:"稀有",element:"土",cardType:"生物",series:"热带动物",marketPrice:650,status:1,attack:75,defense:60,health:70},{id:1030,name:"马特奥",description:"传说中的马特奥，拥有无尽的力量",imageUrl:"Matteoooooooooo.webp",rarity:"LR",element:"光",cardType:"生物",series:"传说英雄",marketPrice:5e3,status:1,attack:150,defense:120,health:200},{id:1031,name:"核能恐龙",description:"拥有核能力量的远古恐龙",imageUrl:"Nuclearo_Dinossaurowebp.webp",rarity:"UR",element:"火",cardType:"生物",series:"远古巨兽",marketPrice:3500,status:1,attack:130,defense:100,health:160},{id:1032,name:"菠萝猩猩",description:"身上长满菠萝的奇特猩猩",imageUrl:"Orangutini_Ananasini.webp",rarity:"史诗",element:"土",cardType:"生物",series:"热带动物",marketPrice:850,status:1,attack:82,defense:75,health:85},{id:1033,name:"椰子企鹅",description:"热带企鹅，喜欢椰子的味道",imageUrl:"Penguino_Cocosino.webp",rarity:"稀有",element:"冰",cardType:"生物",series:"极地动物",marketPrice:600,status:1,attack:65,defense:80,health:75},{id:1034,name:"火锅热点",description:"热气腾腾的火锅精灵",imageUrl:"Pot_hotspotwebp.webp",rarity:"史诗",element:"火",cardType:"法术",series:"美食精灵",marketPrice:900,status:1,attack:80,defense:70,health:85},{id:1035,name:"寿司猫咪",description:"可爱的寿司猫咪，身上散发着海鲜香味",imageUrl:"Pussini_Sushini.webp",rarity:"史诗",element:"水",cardType:"生物",series:"美食动物",marketPrice:950,status:1,attack:70,defense:85,health:80},{id:1036,name:"西格玛男孩",description:"拥有西格玛气质的神秘男孩",imageUrl:"Sigma_Boy.webp",rarity:"UR",element:"暗",cardType:"生物",series:"现代传说",marketPrice:4500,status:1,attack:135,defense:120,health:140},{id:1037,name:"间谍鸽子",description:"神秘的间谍鸽子，拥有特殊的侦察能力",imageUrl:"Špijuniro_Golubiro.webp",rarity:"史诗",element:"风",cardType:"生物",series:"间谍动物",marketPrice:880,status:1,attack:65,defense:90,health:75},{id:1038,name:"炸弹小猪",description:"会爆炸的可爱小猪",imageUrl:"Svinino_Bombondinowebp.webp",rarity:"稀有",element:"火",cardType:"生物",series:"爆炸动物",marketPrice:650,status:1,attack:85,defense:55,health:70},{id:1039,name:"萨胡尔咒语师",description:"会念神秘咒语的萨胡尔法师",imageUrl:"Ta_Ta_Ta_Ta_Ta_Ta_Ta_Ta_Ta_Ta_Ta_Sahur.webp",rarity:"UR",element:"暗",cardType:"法术",series:"古老咒语",marketPrice:3e3,status:1,attack:110,defense:105,health:125},{id:1040,name:"托比节拍师",description:"会打出神奇节拍的音乐家",imageUrl:"Tob_Tobi_Tob_Tob_Tobi_Tob.webp",rarity:"史诗",element:"风",cardType:"法术",series:"音乐精灵",marketPrice:820,status:1,attack:75,defense:80,health:85},{id:1041,name:"龙果海龟",description:"背着火龙果的神奇海龟",imageUrl:"Torrtuginni_Dragonfrutinni.webp",rarity:"史诗",element:"土",cardType:"生物",series:"水果动物",marketPrice:900,status:1,attack:70,defense:95,health:90},{id:1042,name:"德拉佩拉达斯图兹",description:"拥有复杂名字的神秘生物",imageUrl:"Tracotucotulu_Delapeladustuz.webp",rarity:"UR",element:"暗",cardType:"生物",series:"神秘种族",marketPrice:3200,status:1,attack:120,defense:100,health:130},{id:1043,name:"德拉佩拉达斯图兹2号",description:"德拉佩拉达斯图兹的进化形态",imageUrl:"Tracotucotulu_Delapeladustuz2.webp",rarity:"LR",element:"暗",cardType:"生物",series:"神秘种族",marketPrice:7500,status:1,attack:155,defense:135,health:190},{id:1044,name:"巴拉布姆战士",description:"会发出巴拉布姆声音的战士",imageUrl:"Tric_Trac_baraboom.webp",rarity:"史诗",element:"火",cardType:"生物",series:"音效战士",marketPrice:850,status:1,attack:90,defense:70,health:80},{id:1045,name:"巴拉布姆战士2号",description:"巴拉布姆战士的强化版本",imageUrl:"Tric_Trac_baraboom2.webp",rarity:"史诗",element:"火",cardType:"生物",series:"音效战士",marketPrice:880,status:1,attack:92,defense:72,health:82},{id:1046,name:"特里皮-特罗皮",description:"热带风情的双胞胎精灵",imageUrl:"Trippi-Troppi.webp",rarity:"稀有",element:"土",cardType:"生物",series:"热带精灵",marketPrice:680,status:1,attack:65,defense:75,health:70},{id:1047,name:"特鲁利奇纳",description:"优雅的特鲁利奇纳公主",imageUrl:"Trulimero_Trulicina.webp",rarity:"史诗",element:"光",cardType:"生物",series:"皇室贵族",marketPrice:950,status:1,attack:75,defense:85,health:90},{id:1048,name:"丁丁咚咚法师",description:"会念丁丁咚咚咒语的神秘法师",imageUrl:"U_Din_Din_Din_Din_Dun_Ma_Din_Din_Din_Dun.webp",rarity:"UR",element:"暗",cardType:"法术",series:"古老咒语",marketPrice:3800,status:1,attack:110,defense:115,health:130},{id:1049,name:"丁丁咚咚法师2号",description:"丁丁咚咚法师的进阶形态",imageUrl:"U_Din_Din_Din_Din_Dun_Ma_Din_Din_Din_Dun2.webp",rarity:"LR",element:"暗",cardType:"法术",series:"古老咒语",marketPrice:6e3,status:1,attack:140,defense:130,health:180}]).slice(m,p),g={code:200,success:!0,data:{records:h.map(function(e){return{id:e.id,cardName:e.name,imageUrl:e.imageUrl,lore:e.description,marketPrice:e.marketPrice,rarity:"普通"===e.rarity?1:"稀有"===e.rarity?2:"史诗"===e.rarity?3:"传说"===e.rarity?4:"UR"===e.rarity?5:"LR"===e.rarity?6:2,element:e.element,series:e.series,attackPower:e.attack,defensePower:e.defense,hp:e.health,skillName:e.name+"技能",skillEffect:"造成"+e.attack+"点伤害",cardNumber:"SHJ"+String(e.id).padStart(4,"0"),isHolo:Math.random()>.8,status:1}}),current:a,size:s,total:u.length,pages:Math.ceil(u.length/s)},message:"获取卡牌列表成功"},y.a(2,new Promise(function(e){setTimeout(function(){return e(g)},300)}))},_callee2)}))()},getCards:function getCards(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getCardPage(e)},getCardDetail:function getCardDetail(e){return _asyncToGenerator(_regenerator().m(function _callee3(){var t,r;return _regenerator().w(function(a){for(;;)switch(a.n){case 0:if(t=[{id:1001,name:"芭蕾舞者卡布奇诺",description:"优雅的芭蕾舞者，拥有咖啡的香醇和舞蹈的美妙",imageUrl:"Ballerina-Cappuccina.webp",rarity:"传说",element:"风",cardType:"生物",series:"意式咖啡",marketPrice:1200,status:1,attack:85,defense:70,health:90},{id:1002,name:"蓝莓章鱼",description:"来自深海的蓝莓味章鱼，触手间流淌着甜美的果汁",imageUrl:"Blueberrinni_Octopussiniwebp.webp",rarity:"史诗",element:"水",cardType:"生物",series:"海洋果味",marketPrice:800,status:1,attack:75,defense:80,health:85},{id:1003,name:"墨西哥卷饼强盗",description:"戴着宽边帽的卷饼强盗，手持辣椒武器",imageUrl:"Bobrito_Bandito.webp",rarity:"稀有",element:"火",cardType:"生物",series:"墨西哥美食",marketPrice:600,status:1,attack:90,defense:60,health:75},{id:1004,name:"炸弹古西尼",description:"会爆炸的意大利面条，危险而美味",imageUrl:"Bombombini-Gusini.webp",rarity:"稀有",element:"火",cardType:"法术",series:"意式料理",marketPrice:550,status:1,attack:95,defense:40,health:60},{id:1005,name:"安巴拉布娃娃",description:"神秘的巫毒娃娃，拥有古老的魔法力量",imageUrl:"Boneca-Ambalabu.webp",rarity:"传说",element:"暗",cardType:"法术",series:"神秘巫术",marketPrice:1500,status:1,attack:70,defense:90,health:95},{id:1006,name:"冰霜帕塔皮姆",description:"寒冷的冰霜精灵，每次攻击都带来刺骨寒意",imageUrl:"Brr-Brr-Patapim.webp",rarity:"史诗",element:"冰",cardType:"生物",series:"冰霜王国",marketPrice:900,status:1,attack:80,defense:85,health:80},{id:1007,name:"炸弹狂魔",description:"疯狂的炸弹专家，口中念着奇怪的咒语",imageUrl:"Brri_Brri_Bicus_Dicus_Bombicus.webp",rarity:"传说",element:"火",cardType:"生物",series:"爆炸军团",marketPrice:1800,status:1,attack:100,defense:50,health:70},{id:1008,name:"泡泡洛丽",description:"可爱的泡泡精灵，身体由彩色泡泡组成",imageUrl:"Burbaloni_Luliloli.webp",rarity:"普通",element:"风",cardType:"生物",series:"泡泡王国",marketPrice:200,status:1,attack:45,defense:55,health:50},{id:1009,name:"香蕉水豚",description:"热爱香蕉的水豚，总是带着满足的笑容",imageUrl:"Capybarelli_Bananalelli.webp",rarity:"稀有",element:"土",cardType:"生物",series:"热带动物",marketPrice:650,status:1,attack:65,defense:75,health:85},{id:1010,name:"香蕉黑猩猩",description:"聪明的黑猩猩，手中永远拿着新鲜香蕉",imageUrl:"Chimpanzini_Bananini.webp",rarity:"稀有",element:"土",cardType:"生物",series:"热带动物",marketPrice:700,status:1,attack:80,defense:60,health:70},{id:1011,name:"鳄鱼多",description:"奇特的鳄鱼生物，拥有独特的外形",imageUrl:"Crocodildo_Penisiniwebp.webp",rarity:"史诗",element:"水",cardType:"生物",series:"沼泽霸主",marketPrice:850,status:1,attack:90,defense:80,health:85},{id:1012,name:"菠萝鳄鱼",description:"热带鳄鱼，身上长满了菠萝鳞片",imageUrl:"Crocodillo_Ananasinno.webp",rarity:"稀有",element:"土",cardType:"生物",series:"热带沼泽",marketPrice:600,status:1,attack:85,defense:70,health:80},{id:1013,name:"大地之牛",description:"古老的大地守护者，拥有山岳般的力量",imageUrl:"earth-niu.webp",rarity:"UR",element:"土",cardType:"生物",series:"元素守护",marketPrice:4e3,status:1,attack:125,defense:130,health:150},{id:1014,name:"神秘之鱼",description:"来自深海的神秘鱼类，闪烁着奇异光芒",imageUrl:"fish-1.webp",rarity:"史诗",element:"水",cardType:"生物",series:"深海秘境",marketPrice:750,status:1,attack:70,defense:85,health:75},{id:1015,name:"冰箱骆驼",description:"背着冰箱的骆驼，为沙漠带来清凉",imageUrl:"Frigo-Camelo.webp",rarity:"稀有",element:"冰",cardType:"生物",series:"沙漠奇迹",marketPrice:680,status:1,attack:60,defense:90,health:85},{id:1016,name:"果汁弗鲁拉",description:"充满果汁的神奇生物，每次移动都会溅出甜美汁液",imageUrl:"Frulli_Frulla.webp",rarity:"普通",element:"土",cardType:"生物",series:"果汁王国",marketPrice:300,status:1,attack:50,defense:60,health:55},{id:1017,name:"咒语大师",description:"会念超长咒语的神秘法师",imageUrl:"Garamararamararaman_dan_Madudungdung_tak_tuntung_perkuntung.webp",rarity:"LR",element:"暗",cardType:"法术",series:"古老咒语",marketPrice:8e3,status:1,attack:160,defense:140,health:200},{id:1018,name:"天蓝长颈鹿",description:"优雅的天蓝色长颈鹿，头顶触及云端",imageUrl:"Girafa_Celeste.webp",rarity:"史诗",element:"风",cardType:"生物",series:"天空动物",marketPrice:950,status:1,attack:75,defense:70,health:95},{id:1019,name:"水果钻头怪",description:"拥有钻头的水果怪物，能够钻透任何障碍",imageUrl:"Glorbo_Fruttodrillo.webp",rarity:"史诗",element:"土",cardType:"生物",series:"机械水果",marketPrice:880,status:1,attack:95,defense:65,health:75},{id:1020,name:"仙人掌河马",description:"长满仙人掌刺的河马，沙漠中的霸主",imageUrl:"Il_Cacto_Hipopotamowebp.webp",rarity:"稀有",element:"土",cardType:"生物",series:"沙漠霸主",marketPrice:720,status:1,attack:85,defense:90,health:100},{id:1021,name:"意式脑残1号",description:"来自意大利的奇特生物，充满了意式幽默",imageUrl:"italian-brainrot1.webp",rarity:"普通",element:"风",cardType:"生物",series:"意式脑残",marketPrice:150,status:1,attack:40,defense:50,health:45},{id:1022,name:"意式脑残2号",description:"意式脑残系列的第二位成员",imageUrl:"italian-brainrot2.webp",rarity:"普通",element:"风",cardType:"生物",series:"意式脑残",marketPrice:160,status:1,attack:42,defense:48,health:50},{id:1023,name:"意式脑残3号",description:"意式脑残系列的第三位成员",imageUrl:"italian-brainrot3.webp",rarity:"普通",element:"风",cardType:"生物",series:"意式脑残",marketPrice:170,status:1,attack:44,defense:46,health:48},{id:1024,name:"意式脑残4号",description:"意式脑残系列的第四位成员",imageUrl:"italian-brainrot4.webp",rarity:"稀有",element:"风",cardType:"生物",series:"意式脑残",marketPrice:400,status:1,attack:60,defense:55,health:65},{id:1025,name:"意式脑残5号",description:"意式脑残系列的第五位成员",imageUrl:"italian-brainrot5.webp",rarity:"稀有",element:"风",cardType:"生物",series:"意式脑残",marketPrice:420,status:1,attack:62,defense:58,health:60},{id:1026,name:"意式脑残8号",description:"意式脑残系列的第八位成员",imageUrl:"italian-brainrot8.webp",rarity:"史诗",element:"风",cardType:"生物",series:"意式脑残",marketPrice:800,status:1,attack:78,defense:72,health:80},{id:1027,name:"土星奶牛",description:"来自土星的神秘奶牛，身上环绕着土星环",imageUrl:"La-Vaca-Saturno-Saturnita.webp",rarity:"UR",element:"光",cardType:"生物",series:"宇宙动物",marketPrice:3600,status:1,attack:118,defense:125,health:140},{id:1028,name:"丽丽拉丽拉",description:"会唱美妙歌曲的音乐精灵",imageUrl:"lirili-larila.webp",rarity:"稀有",element:"风",cardType:"法术",series:"音乐精灵",marketPrice:580,status:1,attack:55,defense:70,health:65},{id:1029,name:"香蕉猴子",description:"热爱香蕉的猴子，手中总是拿着香蕉",imageUrl:"Makakini_Bananiniwebp.webp",rarity:"稀有",element:"土",cardType:"生物",series:"热带动物",marketPrice:650,status:1,attack:75,defense:60,health:70},{id:1030,name:"马特奥",description:"传说中的马特奥，拥有无尽的力量",imageUrl:"Matteoooooooooo.webp",rarity:"LR",element:"光",cardType:"生物",series:"传说英雄",marketPrice:5e3,status:1,attack:150,defense:120,health:200},{id:1031,name:"核能恐龙",description:"拥有核能力量的远古恐龙",imageUrl:"Nuclearo_Dinossaurowebp.webp",rarity:"UR",element:"火",cardType:"生物",series:"远古巨兽",marketPrice:3500,status:1,attack:130,defense:100,health:160},{id:1032,name:"菠萝猩猩",description:"身上长满菠萝的奇特猩猩",imageUrl:"Orangutini_Ananasini.webp",rarity:"史诗",element:"土",cardType:"生物",series:"热带动物",marketPrice:850,status:1,attack:82,defense:75,health:85},{id:1033,name:"椰子企鹅",description:"热带企鹅，喜欢椰子的味道",imageUrl:"Penguino_Cocosino.webp",rarity:"稀有",element:"冰",cardType:"生物",series:"极地动物",marketPrice:600,status:1,attack:65,defense:80,health:75},{id:1034,name:"火锅热点",description:"热气腾腾的火锅精灵",imageUrl:"Pot_hotspotwebp.webp",rarity:"史诗",element:"火",cardType:"法术",series:"美食精灵",marketPrice:900,status:1,attack:80,defense:70,health:85},{id:1035,name:"寿司猫咪",description:"可爱的寿司猫咪，身上散发着海鲜香味",imageUrl:"Pussini_Sushini.webp",rarity:"史诗",element:"水",cardType:"生物",series:"美食动物",marketPrice:950,status:1,attack:70,defense:85,health:80},{id:1036,name:"西格玛男孩",description:"拥有西格玛气质的神秘男孩",imageUrl:"Sigma_Boy.webp",rarity:"UR",element:"暗",cardType:"生物",series:"现代传说",marketPrice:4500,status:1,attack:135,defense:120,health:140},{id:1037,name:"间谍鸽子",description:"神秘的间谍鸽子，拥有特殊的侦察能力",imageUrl:"Špijuniro_Golubiro.webp",rarity:"史诗",element:"风",cardType:"生物",series:"间谍动物",marketPrice:880,status:1,attack:65,defense:90,health:75},{id:1038,name:"炸弹小猪",description:"会爆炸的可爱小猪",imageUrl:"Svinino_Bombondinowebp.webp",rarity:"稀有",element:"火",cardType:"生物",series:"爆炸动物",marketPrice:650,status:1,attack:85,defense:55,health:70},{id:1039,name:"萨胡尔咒语师",description:"会念神秘咒语的萨胡尔法师",imageUrl:"Ta_Ta_Ta_Ta_Ta_Ta_Ta_Ta_Ta_Ta_Ta_Sahur.webp",rarity:"UR",element:"暗",cardType:"法术",series:"古老咒语",marketPrice:3e3,status:1,attack:110,defense:105,health:125},{id:1040,name:"托比节拍师",description:"会打出神奇节拍的音乐家",imageUrl:"Tob_Tobi_Tob_Tob_Tobi_Tob.webp",rarity:"史诗",element:"风",cardType:"法术",series:"音乐精灵",marketPrice:820,status:1,attack:75,defense:80,health:85},{id:1041,name:"龙果海龟",description:"背着火龙果的神奇海龟",imageUrl:"Torrtuginni_Dragonfrutinni.webp",rarity:"史诗",element:"土",cardType:"生物",series:"水果动物",marketPrice:900,status:1,attack:70,defense:95,health:90},{id:1042,name:"德拉佩拉达斯图兹",description:"拥有复杂名字的神秘生物",imageUrl:"Tracotucotulu_Delapeladustuz.webp",rarity:"UR",element:"暗",cardType:"生物",series:"神秘种族",marketPrice:3200,status:1,attack:120,defense:100,health:130},{id:1043,name:"德拉佩拉达斯图兹2号",description:"德拉佩拉达斯图兹的进化形态",imageUrl:"Tracotucotulu_Delapeladustuz2.webp",rarity:"LR",element:"暗",cardType:"生物",series:"神秘种族",marketPrice:7500,status:1,attack:155,defense:135,health:190},{id:1044,name:"巴拉布姆战士",description:"会发出巴拉布姆声音的战士",imageUrl:"Tric_Trac_baraboom.webp",rarity:"史诗",element:"火",cardType:"生物",series:"音效战士",marketPrice:850,status:1,attack:90,defense:70,health:80},{id:1045,name:"巴拉布姆战士2号",description:"巴拉布姆战士的强化版本",imageUrl:"Tric_Trac_baraboom2.webp",rarity:"史诗",element:"火",cardType:"生物",series:"音效战士",marketPrice:880,status:1,attack:92,defense:72,health:82},{id:1046,name:"特里皮-特罗皮",description:"热带风情的双胞胎精灵",imageUrl:"Trippi-Troppi.webp",rarity:"稀有",element:"土",cardType:"生物",series:"热带精灵",marketPrice:680,status:1,attack:65,defense:75,health:70},{id:1047,name:"特鲁利奇纳",description:"优雅的特鲁利奇纳公主",imageUrl:"Trulimero_Trulicina.webp",rarity:"史诗",element:"光",cardType:"生物",series:"皇室贵族",marketPrice:950,status:1,attack:75,defense:85,health:90},{id:1048,name:"丁丁咚咚法师",description:"会念丁丁咚咚咒语的神秘法师",imageUrl:"U_Din_Din_Din_Din_Dun_Ma_Din_Din_Din_Dun.webp",rarity:"UR",element:"暗",cardType:"法术",series:"古老咒语",marketPrice:3800,status:1,attack:110,defense:115,health:130},{id:1049,name:"丁丁咚咚法师2号",description:"丁丁咚咚法师的进阶形态",imageUrl:"U_Din_Din_Din_Din_Dun_Ma_Din_Din_Din_Dun2.webp",rarity:"LR",element:"暗",cardType:"法术",series:"古老咒语",marketPrice:6e3,status:1,attack:140,defense:130,health:180}].find(function(t){return t.id==e})){a.n=1;break}return a.a(2,new Promise(function(e){setTimeout(function(){return e({code:404,success:!1,message:"卡牌不存在",data:null})},200)}));case 1:return r={code:200,success:!0,data:{id:t.id,cardName:t.name,imageUrl:t.imageUrl,lore:t.description,marketPrice:t.marketPrice,rarity:"普通"===t.rarity?1:"稀有"===t.rarity?2:"史诗"===t.rarity?3:"传说"===t.rarity?4:"UR"===t.rarity?5:"LR"===t.rarity?6:2,element:t.element,series:t.series,attackPower:t.attack,defensePower:t.defense,hp:t.health,skillName:t.name+"技能",skillEffect:"造成"+t.attack+"点伤害",cardNumber:"SHJ"+String(t.id).padStart(4,"0"),isHolo:Math.random()>.8,status:1,cardType:t.cardType},message:"获取卡牌详情成功"},a.a(2,new Promise(function(e){setTimeout(function(){return e(r)},200)}))}},_callee3)}))()},searchCards:function searchCards(e){return this.getCardPage({pageDTO:e})},getRecommendedCards:function getRecommendedCards(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12;return this.getCardPage({size:e,pageDTO:{status:1}})},getHotCards:function getHotCards(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12;return this.getCardPage({size:e,sort:"marketPrice,DESC",pageDTO:{status:1}})},getNewCards:function getNewCards(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12;return this.getCardPage({size:e,sort:"id,DESC",pageDTO:{status:1}})},getCardsByType:function getCardsByType(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.getCardPage(_objectSpread(_objectSpread({},t),{},{pageDTO:_objectSpread({cardType:e,status:1},t.pageDTO)}))},getCardsByRarity:function getCardsByRarity(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.getCardPage(_objectSpread(_objectSpread({},t),{},{pageDTO:_objectSpread({rarity:e,status:1},t.pageDTO)}))},getCardsByElement:function getCardsByElement(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.getCardPage(_objectSpread(_objectSpread({},t),{},{pageDTO:_objectSpread({element:e,status:1},t.pageDTO)}))},getCardsBySeries:function getCardsBySeries(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.getCardPage(_objectSpread(_objectSpread({},t),{},{pageDTO:_objectSpread({series:e,status:1},t.pageDTO)}))},getRarities:function getRarities(){return u.get("/v1/cards/rarities")}},p={login:function login(e){return u.post("/v1/oauth2/login",e)},register:function register(e){return u.post("/v1/user/register",e)},logout:function logout(){return u.post("/v1/auth/logout")},getUserInfo:function getUserInfo(){return u.get("/v1/user/profile")},updateUserInfo:function updateUserInfo(e){return u.put("/v1/user/profile",e)},changePassword:function changePassword(e){return u.put("/v1/user/password",e)},uploadAvatar:function uploadAvatar(e){return u.upload("/v1/user/avatar",e)}},h={getMarketplaceCards:function getMarketplaceCards(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u.get("/v1/marketplace",e)},getMarketplaceCardDetail:function getMarketplaceCardDetail(e){return u.get("/v1/marketplace/".concat(e))},publishCard:function publishCard(e){return u.post("/v1/marketplace/publish",e)},searchMarketplaceCards:function searchMarketplaceCards(e){return u.get("/v1/marketplace",e)},favoriteCard:function favoriteCard(e){return u.post("/v1/marketplace/".concat(e,"/favorite"))},unfavoriteCard:function unfavoriteCard(e){return u.delete("/v1/marketplace/".concat(e,"/favorite"))},contactSeller:function contactSeller(e,t){return u.post("/v1/marketplace/contact",{sellerId:e,message:t})}},g={createOrder:function createOrder(e){return u.post("/v1/orders",e)},getOrders:function getOrders(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u.get("/v1/orders",e)},getOrderDetail:function getOrderDetail(e){return u.get("/v1/orders/".concat(e))},cancelOrder:function cancelOrder(e){return u.put("/v1/orders/".concat(e,"/cancel"))},confirmOrder:function confirmOrder(e){return u.put("/v1/orders/".concat(e,"/confirm"))}},y={getResalePage:function getResalePage(){var e=arguments;return _asyncToGenerator(_regenerator().m(function _callee4(){var t,r,a,n,s,c,l,u,m,p,h,g,y,b,v,w,k,_,T,P;return _regenerator().w(function(x){for(;;)switch(x.n){case 0:r=(t=e.length>0&&void 0!==e[0]?e[0]:{}).page,a=void 0===r?1:r,n=t.size,s=void 0===n?8:n,c=t.sort,l=void 0===c?"newest":c,u=t.filters,m=void 0===u?{}:u,p=[].concat([{id:1001,name:"芭蕾舞者卡布奇诺",description:"优雅的芭蕾舞者，拥有咖啡的香醇和舞蹈的美妙，收藏多年忍痛割爱",imageUrl:"Ballerina-Cappuccina.webp",rarity:"传说",element:"风",cardType:"生物",series:"意式咖啡",marketPrice:1200,price:1e3,originalPrice:1200,status:"available",publishTime:"2024-01-15T10:30:00Z",views:156,favorites:23,tags:["收藏级","完美品相"],seller:{id:1,name:"咖啡爱好者",avatar:"/icon.png",rating:4.8,verified:!0,online:!0}},{id:1002,name:"蓝莓章鱼",description:"来自深海的蓝莓味章鱼，触手间流淌着甜美的果汁，品相良好",imageUrl:"Blueberrinni_Octopussiniwebp.webp",rarity:"史诗",element:"水",cardType:"生物",series:"海洋果味",marketPrice:800,price:680,originalPrice:800,status:"available",publishTime:"2024-01-14T15:20:00Z",views:89,favorites:15,tags:["海洋系","稀有"],seller:{id:2,name:"海洋收藏家",avatar:"/icon.png",rating:4.9,verified:!0,online:!1}},{id:1003,name:"墨西哥卷饼强盗",description:"戴着宽边帽的卷饼强盗，手持辣椒武器，全新未拆封",imageUrl:"Bobrito_Bandito.webp",rarity:"稀有",element:"火",cardType:"生物",series:"墨西哥美食",marketPrice:600,price:520,originalPrice:600,status:"reserved",publishTime:"2024-01-13T09:15:00Z",views:234,favorites:45,tags:["全新","未拆封","预定中"],seller:{id:3,name:"美食收藏者",avatar:"/icon.png",rating:4.7,verified:!1,online:!0}},{id:1013,name:"大地之牛",description:"古老的大地守护者，拥有山岳般的力量，限量版金卡",imageUrl:"earth-niu.webp",rarity:"UR",element:"土",cardType:"生物",series:"元素守护",marketPrice:4e3,price:3500,originalPrice:4e3,status:"available",publishTime:"2024-01-12T14:45:00Z",views:178,favorites:32,tags:["限量版","UR稀有度","收藏必备"],seller:{id:4,name:"元素大师",avatar:"/icon.png",rating:4.6,verified:!0,online:!0}},{id:1030,name:"马特奥",description:"传说中的马特奥，拥有无尽的力量，极其稀有的LR卡牌",imageUrl:"Matteoooooooooo.webp",rarity:"LR",element:"光",cardType:"生物",series:"传说英雄",marketPrice:5e3,price:4500,originalPrice:5e3,status:"sold",publishTime:"2024-01-11T11:20:00Z",views:312,favorites:67,tags:["LR传说","极稀有","已售出"],seller:{id:5,name:"传说收藏家",avatar:"/icon.png",rating:4.9,verified:!0,online:!1}},{id:1031,name:"核能恐龙",description:"拥有核能力量的远古恐龙，收藏品质",imageUrl:"Nuclearo_Dinossaurowebp.webp",rarity:"UR",element:"火",cardType:"生物",series:"远古巨兽",marketPrice:3500,price:3200,originalPrice:3500,status:"available",publishTime:"2024-01-10T16:30:00Z",views:145,favorites:28,tags:["远古系","UR稀有度"],seller:{id:6,name:"恐龙专家",avatar:"/icon.png",rating:4.8,verified:!0,online:!0}},{id:1036,name:"西格玛男孩",description:"拥有西格玛气质的神秘男孩，品相良好",imageUrl:"Sigma_Boy.webp",rarity:"UR",element:"暗",cardType:"生物",series:"现代传说",marketPrice:4500,price:4e3,originalPrice:4500,status:"available",publishTime:"2024-01-09T13:15:00Z",views:98,favorites:19,tags:["现代系","个性卡牌"],seller:{id:7,name:"潮流收藏者",avatar:"/icon.png",rating:4.5,verified:!1,online:!0}},{id:1017,name:"咒语大师",description:"会念超长咒语的神秘法师，极其稀有的LR卡牌",imageUrl:"Garamararamararaman_dan_Madudungdung_tak_tuntung_perkuntung.webp",rarity:"LR",element:"暗",cardType:"法术",series:"古老咒语",marketPrice:8e3,price:7500,originalPrice:8e3,status:"available",publishTime:"2024-01-08T10:00:00Z",views:456,favorites:89,tags:["LR传说","法术系","收藏必备"],seller:{id:8,name:"法师协会",avatar:"/icon.png",rating:5,verified:!0,online:!1}},{id:1043,name:"德拉佩拉达斯图兹2号",description:"德拉佩拉达斯图兹的进化形态，传说级收藏",imageUrl:"Tracotucotulu_Delapeladustuz2.webp",rarity:"LR",element:"暗",cardType:"生物",series:"神秘种族",marketPrice:7500,price:7e3,originalPrice:7500,status:"available",publishTime:"2024-01-07T12:00:00Z",views:123,favorites:34,tags:["进化形态","神秘系"],seller:{id:9,name:"神秘学者",avatar:"/icon.png",rating:4.7,verified:!0,online:!0}},{id:1049,name:"丁丁咚咚法师2号",description:"丁丁咚咚法师的进阶形态，极稀有LR卡牌",imageUrl:"U_Din_Din_Din_Din_Dun_Ma_Din_Din_Din_Dun2.webp",rarity:"LR",element:"暗",cardType:"法术",series:"古老咒语",marketPrice:6e3,price:5500,originalPrice:6e3,status:"available",publishTime:"2024-01-06T14:30:00Z",views:267,favorites:56,tags:["进阶形态","法术大师"],seller:{id:10,name:"咒语研究者",avatar:"/icon.png",rating:4.9,verified:!0,online:!1}},{id:1027,name:"土星奶牛",description:"来自土星的神秘奶牛，身上环绕着土星环",imageUrl:"La-Vaca-Saturno-Saturnita.webp",rarity:"UR",element:"光",cardType:"生物",series:"宇宙动物",marketPrice:3600,price:3200,originalPrice:3600,status:"available",publishTime:"2024-01-05T16:45:00Z",views:589,favorites:123,tags:["宇宙系","奇特造型"],seller:{id:11,name:"宇宙探索者",avatar:"/icon.png",rating:5,verified:!0,online:!0}},{id:1039,name:"萨胡尔咒语师",description:"会念神秘咒语的萨胡尔法师，UR稀有度",imageUrl:"Ta_Ta_Ta_Ta_Ta_Ta_Ta_Ta_Ta_Ta_Ta_Sahur.webp",rarity:"UR",element:"暗",cardType:"法术",series:"古老咒语",marketPrice:3e3,price:2800,originalPrice:3e3,status:"available",publishTime:"2024-01-04T11:20:00Z",views:345,favorites:78,tags:["咒语系","神秘力量"],seller:{id:12,name:"古老传承者",avatar:"/icon.png",rating:4.8,verified:!0,online:!0}}]),m.search&&(h=m.search.toLowerCase(),p=p.filter(function(e){return e.name.toLowerCase().includes(h)||e.description.toLowerCase().includes(h)||e.seller.name.toLowerCase().includes(h)})),m.category&&(p=p.filter(function(e){return e.series===m.category})),m.rarity&&(p=p.filter(function(e){return e.rarity===m.rarity})),m.priceRange&&(g=m.priceRange.split("-").map(function(e){return"+"===e?Infinity:parseInt(e)}),y=_slicedToArray(g,2),b=y[0],v=y[1],p=p.filter(function(e){return void 0===v?e.price>=b:e.price>=b&&e.price<=v})),P=l,x.n="price-low"===P?1:"price-high"===P?2:"popular"===P?3:4;break;case 1:return p.sort(function(e,t){return e.price-t.price}),x.a(3,5);case 2:return p.sort(function(e,t){return t.price-e.price}),x.a(3,5);case 3:return p.sort(function(e,t){return t.views-e.views}),x.a(3,5);case 4:return p.sort(function(e,t){return new Date(t.publishTime)-new Date(e.publishTime)}),x.a(3,5);case 5:return k=(w=(a-1)*s)+s,_=p.slice(w,k),T={code:200,success:!0,data:{records:_.map(function(e){return{id:e.id,cardName:e.name,imageUrl:e.imageUrl,lore:e.description,price:e.price,originalPrice:e.originalPrice,rarity:"普通"===e.rarity?1:"稀有"===e.rarity?2:"史诗"===e.rarity?3:"传说"===e.rarity?4:"UR"===e.rarity?5:"LR"===e.rarity?6:2,element:e.element,series:e.series,status:e.status,publishTime:e.publishTime,views:e.views,favorites:e.favorites,tags:e.tags,seller:e.seller}}),current:a,size:s,total:p.length,pages:Math.ceil(p.length/s)},message:"获取二手市场列表成功"},x.a(2,new Promise(function(e){setTimeout(function(){return e(T)},300)}))}},_callee4)}))()},getResaleDetail:function getResaleDetail(e){return _asyncToGenerator(_regenerator().m(function _callee5(){var t;return _regenerator().w(function(r){for(;;)switch(r.n){case 0:return r.n=1,m.getCardDetail(e);case 1:return 200===(t=r.v).code&&(t.data.seller={id:Math.floor(100*Math.random())+1,name:"卡牌收藏家"+Math.floor(100*Math.random()),avatar:"/icon.png",rating:(1*Math.random()+4).toFixed(1),verified:Math.random()>.3,online:Math.random()>.5},t.data.price=Math.floor(t.data.marketPrice*(.8+.2*Math.random())),t.data.originalPrice=t.data.marketPrice,t.data.status="available",t.data.views=Math.floor(500*Math.random())+50,t.data.favorites=Math.floor(100*Math.random())+10,t.data.tags=["收藏级","品相良好"]),r.a(2,t)}},_callee5)}))()}};window.HttpClient=l,window.http=u,window.CardAPI=m,window.UserAPI=p,window.MarketplaceAPI=h,window.OrderAPI=g,window.ResaleAPI=y,window.API={card:m,user:p,marketplace:h,order:g,resale:y},console.log("✅ API模块已加载:",{HttpClient:!!window.HttpClient,http:!!window.http,CardAPI:!!window.CardAPI,UserAPI:!!window.UserAPI,MarketplaceAPI:!!window.MarketplaceAPI,OrderAPI:!!window.OrderAPI,ResaleAPI:!!window.ResaleAPI,API:!!window.API})}}]);