"use strict";(self.webpackChunkshanhaijing_card_game=self.webpackChunkshanhaijing_card_game||[]).push([[313],{6087:(t,n,r)=>{r.r(n)},24925:(t,n,r)=>{function e(){var t,n,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function s(r,e,a,o){var s=e&&e.prototype instanceof l?e:l,u=Object.create(s.prototype);return i(u,"_invoke",function(r,e,i){var a,o,s,l=0,u=i||[],d=!1,p={p:0,n:0,v:t,a:m,f:m.bind(t,4),d:function(n,r){return a=n,o=0,s=t,p.n=r,c}};function m(r,e){for(o=r,s=e,n=0;!d&&l&&!i&&n<u.length;n++){var i,a=u[n],m=p.p,f=a[2];r>3?(i=f===e)&&(s=a[(o=a[4])?5:(o=3,3)],a[4]=a[5]=t):a[0]<=m&&((i=r<2&&m<a[1])?(o=0,p.v=e,p.n=a[1]):m<f&&(i=r<3||a[0]>e||e>f)&&(a[4]=r,a[5]=e,p.n=f,o=0))}if(i||r>1)return c;throw d=!0,e}return function(i,u,f){if(l>1)throw TypeError("Generator is already running");for(d&&1===u&&m(u,f),o=u,s=f;(n=o<2?t:s)||!d;){a||(o?o<3?(o>1&&(p.n=-1),m(o,s)):p.n=s:p.v=s);try{if(l=2,a){if(o||(i="next"),n=a[i]){if(!(n=n.call(a,s)))throw TypeError("iterator result is not an object");if(!n.done)return n;s=n.value,o<2&&(o=0)}else 1===o&&(n=a.return)&&n.call(a),o<2&&(s=TypeError("The iterator does not provide a '"+i+"' method"),o=1);a=t}else if((n=(d=p.n<0)?s:r.call(e,p))!==c)break}catch(n){a=t,o=1,s=n}finally{l=1}}return{value:n,done:d}}}(r,a,o),!0),u}var c={};function l(){}function u(){}function d(){}n=Object.getPrototypeOf;var p=[][a]?n(n([][a]())):(i(n={},a,function(){return this}),n),m=d.prototype=l.prototype=Object.create(p);function f(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,i(t,o,"GeneratorFunction")),t.prototype=Object.create(m),t}return u.prototype=d,i(m,"constructor",d),i(d,"constructor",u),u.displayName="GeneratorFunction",i(d,o,"GeneratorFunction"),i(m),i(m,o,"Generator"),i(m,a,function(){return this}),i(m,"toString",function(){return"[object Generator]"}),(e=function(){return{w:s,m:f}})()}function i(t,n,r,e){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}i=function(t,n,r,e){function o(n,r){i(t,n,function(t){return this.t(n,r,t)})}n?a?a(t,n,{value:r,enumerable:!e,configurable:!e,writable:!e}):t[n]=r:(o("next",0),o("throw",1),o("return",2))},i(t,n,r,e)}function a(t,n){if(t){if("string"==typeof t)return o(t,n);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(t,n):void 0}}function o(t,n){(null==n||n>t.length)&&(n=t.length);for(var r=0,e=Array(n);r<n;r++)e[r]=t[r];return e}function s(t,n,r,e,i,a,o){try{var s=t[a](o),c=s.value}catch(t){return void r(t)}s.done?n(c):Promise.resolve(c).then(e,i)}r(2259),r(23418),r(23792),r(40875),r(10287),r(38781),r(47764),r(62953),r(52675),r(89463),r(28706),r(2008),r(50113),r(74423),r(48598),r(62062),r(34782),r(26910),r(62010),r(26099),r(3362),r(27495),r(21699),r(25440),r(5746),r(42762),r(23500),r(90407),r(87006),r(90062),r(380),r(49078),r(14822),r(36099),r(16738),r(6087);var c=1,l={search:"",category:"",rarity:"",priceRange:"",sort:"newest"},u=[],d=!1,p=[{id:1,name:"青龙",category:"神兽",rarity:"SSR",price:2888,originalPrice:3200,image:"https://picsum.photos/300/420?random=1",description:"东方青龙，掌控风雷之力，品相完好",seller:{id:1,name:"龙之传人",avatar:"https://picsum.photos/40/40?random=101",rating:4.8,verified:!0,online:!0},status:"available",publishTime:"2024-01-15T10:30:00Z",views:156,favorites:23,tags:["限量版","完美品相","急售"]},{id:2,name:"九尾狐",category:"妖怪",rarity:"SR",price:1688,originalPrice:1888,image:"https://picsum.photos/300/420?random=2",description:"九尾天狐，魅惑众生，收藏多年忍痛割爱",seller:{id:2,name:"狐仙小姐",avatar:"https://picsum.photos/40/40?random=102",rating:4.9,verified:!0,online:!1},status:"available",publishTime:"2024-01-14T15:20:00Z",views:89,favorites:15,tags:["收藏级","稀有"]},{id:3,name:"凤凰",category:"神兽",rarity:"UR",price:4588,originalPrice:4888,image:"https://picsum.photos/300/420?random=3",description:"不死神鸟，浴火重生，全新未拆封",seller:{id:3,name:"火鸟收藏家",avatar:"https://picsum.photos/40/40?random=103",rating:4.7,verified:!1,online:!0},status:"reserved",publishTime:"2024-01-13T09:15:00Z",views:234,favorites:45,tags:["全新","未拆封","预定中"]},{id:4,name:"白虎",category:"神兽",rarity:"SSR",price:2588,originalPrice:2688,image:"https://picsum.photos/300/420?random=4",description:"西方白虎，威震四方，轻微使用痕迹",seller:{id:4,name:"白虎堂主",avatar:"https://picsum.photos/40/40?random=104",rating:4.6,verified:!0,online:!0},status:"available",publishTime:"2024-01-12T14:45:00Z",views:178,favorites:32,tags:["轻微磨损","性价比"]},{id:5,name:"龙王",category:"神兽",rarity:"UR",price:5688,originalPrice:5888,image:"https://picsum.photos/300/420?random=5",description:"四海龙王，掌控水域，限量版金卡",seller:{id:5,name:"海王",avatar:"https://picsum.photos/40/40?random=105",rating:4.9,verified:!0,online:!1},status:"sold",publishTime:"2024-01-11T11:20:00Z",views:312,favorites:67,tags:["限量版","金卡","已售出"]},{id:6,name:"麒麟",category:"神兽",rarity:"UR",price:4388,originalPrice:4588,image:"https://picsum.photos/300/420?random=6",description:"仁德瑞兽，祥瑞之兆，收藏品质",seller:{id:6,name:"瑞兽收藏",avatar:"https://picsum.photos/40/40?random=106",rating:4.8,verified:!0,online:!0},status:"available",publishTime:"2024-01-10T16:30:00Z",views:145,favorites:28,tags:["收藏级","完美"]},{id:7,name:"饕餮",category:"妖怪",rarity:"SR",price:1588,originalPrice:1688,image:"https://picsum.photos/300/420?random=7",description:"上古凶兽，吞噬万物，品相良好",seller:{id:7,name:"凶兽猎人",avatar:"https://picsum.photos/40/40?random=107",rating:4.5,verified:!1,online:!0},status:"available",publishTime:"2024-01-09T13:15:00Z",views:98,favorites:19,tags:["良好品相"]},{id:8,name:"混沌",category:"神兽",rarity:"LR",price:9588,originalPrice:9888,image:"https://picsum.photos/300/420?random=8",description:"开天辟地前的混沌之兽，极其稀有",seller:{id:8,name:"混沌之主",avatar:"https://picsum.photos/40/40?random=108",rating:5,verified:!0,online:!1},status:"available",publishTime:"2024-01-08T10:00:00Z",views:456,favorites:89,tags:["极稀有","传说级","收藏必备"]},{id:9,name:"玄武",category:"神兽",rarity:"SSR",price:2788,originalPrice:2888,image:"https://picsum.photos/300/420?random=9",description:"北方玄武，坚不可摧",seller:{id:9,name:"玄武守护",avatar:"https://picsum.photos/40/40?random=109",rating:4.7,verified:!0,online:!0},status:"available",publishTime:"2024-01-07T12:00:00Z",views:123,favorites:34,tags:["防御型","稳定"]},{id:10,name:"朱雀",category:"神兽",rarity:"SSR",price:3088,originalPrice:3288,image:"https://picsum.photos/300/420?random=10",description:"南方朱雀，烈火焚天",seller:{id:10,name:"火焰使者",avatar:"https://picsum.photos/40/40?random=110",rating:4.9,verified:!0,online:!1},status:"available",publishTime:"2024-01-06T14:30:00Z",views:267,favorites:56,tags:["攻击型","火属性"]},{id:11,name:"鲲鹏",category:"神兽",rarity:"LR",price:10888,originalPrice:11888,image:"https://picsum.photos/300/420?random=11",description:"扶摇直上九万里，传说中的巨鸟",seller:{id:11,name:"天空之主",avatar:"https://picsum.photos/40/40?random=111",rating:5,verified:!0,online:!0},status:"available",publishTime:"2024-01-05T16:45:00Z",views:589,favorites:123,tags:["传说级","飞行","极稀有"]},{id:12,name:"白泽",category:"神兽",rarity:"UR",price:7888,originalPrice:8288,image:"https://picsum.photos/300/420?random=12",description:"知万物之精，识鬼神之形",seller:{id:12,name:"智慧长者",avatar:"https://picsum.photos/40/40?random=112",rating:4.8,verified:!0,online:!0},status:"available",publishTime:"2024-01-04T11:20:00Z",views:345,favorites:78,tags:["智慧型","预知","稀有"]},{id:13,name:"穷奇",category:"妖怪",rarity:"SR",price:2388,originalPrice:2588,image:"https://picsum.photos/300/420?random=13",description:"四大凶兽之一，性情凶恶",seller:{id:13,name:"凶兽收集者",avatar:"https://picsum.photos/40/40?random=113",rating:4.3,verified:!1,online:!0},status:"available",publishTime:"2024-01-03T09:15:00Z",views:156,favorites:29,tags:["凶兽","攻击型"]}];function m(){return f.apply(this,arguments)}function f(){var t;return t=e().m(function t(){var n,r,i;return e().w(function(t){for(;;)switch(t.p=t.n){case 0:if(!d){t.n=1;break}return t.a(2);case 1:return d=!0,b(),t.p=2,t.n=3,new Promise(function(t){return setTimeout(t,500)});case 3:n=v(u),i=8+(r=8*(c-1)),h(n.slice(r,i)),g(n.length,8),0===n.length?w():T(),t.n=5;break;case 4:t.p=4,t.v,x();case 5:return t.p=5,d=!1,y(),t.f(5);case 6:return t.a(2)}},t,null,[[2,4,5,6]])}),f=function(){var n=this,r=arguments;return new Promise(function(e,i){var a=t.apply(n,r);function o(t){s(a,e,i,o,c,"next",t)}function c(t){s(a,e,i,o,c,"throw",t)}o(void 0)})},f.apply(this,arguments)}function v(t){var n,r=function(t){if(Array.isArray(t))return o(t)}(n=t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(n)||a(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();if(l.search){var e=l.search.toLowerCase();r=r.filter(function(t){return t.name.toLowerCase().includes(e)||t.seller.name.toLowerCase().includes(e)||t.description.toLowerCase().includes(e)})}if(l.category&&(r=r.filter(function(t){return t.category===l.category})),l.rarity&&(r=r.filter(function(t){return t.rarity===l.rarity})),l.priceRange){var i=function(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var e,i,a,o,s=[],c=!0,l=!1;try{if(a=(r=r.call(t)).next,0===n){if(Object(r)!==r)return;c=!1}else for(;!(c=(e=a.call(r)).done)&&(s.push(e.value),s.length!==n);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(t,n)||a(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(l.priceRange.split("-").map(function(t){return"+"===t?1/0:parseInt(t)}),2),s=i[0],c=i[1];r=r.filter(function(t){return void 0===c?t.price>=s:t.price>=s&&t.price<=c})}switch(l.sort){case"price-low":r.sort(function(t,n){return t.price-n.price});break;case"price-high":r.sort(function(t,n){return n.price-t.price});break;case"popular":r.sort(function(t,n){return n.views-t.views});break;default:r.sort(function(t,n){return new Date(n.publishTime)-new Date(t.publishTime)})}return r}function h(t){var n=document.getElementById("marketplace-grid");if(n)if(0!==t.length){var r=t.map(function(t){return function(t){var n=t.originalPrice>t.price?Math.round(100*(1-t.price/t.originalPrice)):0;return'\n        <div class="marketplace-card" data-card-id="'.concat(t.id,'">\n            <div class="relative">\n                <img src="').concat(t.image,'" alt="').concat(t.name,'" class="card-image">\n                \x3c!-- 收藏按钮已移除 --\x3e\n                <div class="card-status ').concat({available:"available",sold:"sold",reserved:"reserved"}[t.status],'">').concat({available:"在售",sold:"已售",reserved:"预定"}[t.status],"</div>\n                ").concat(n>0?'<div class="absolute top-12 right-12 bg-red-500 text-white text-xs px-2 py-1 rounded">'.concat(n,"% OFF</div>"):"",'\n            </div>\n            \n            <div class="card-content">\n                <h3 class="card-title">').concat(t.name,'</h3>\n                \n                <div class="flex items-baseline mb-2">\n                    <span class="card-category">').concat(t.category,'</span>\n                    <span class="card-rarity ').concat(t.rarity,'">').concat(t.rarity,'</span>\n                </div>\n                \n                <div class="seller-info">\n                    <div class="card-seller">\n                        <img src="').concat(t.seller.avatar,'" alt="').concat(t.seller.name,'" class="seller-avatar">\n                        <span class="seller-name">').concat(t.seller.name,"</span>\n                        ").concat(t.seller.verified?'<span class="seller-verified">✓</span>':"",'\n                        <div class="seller-rating">\n                            <span class="rating-stars">★</span>\n                            <span class="rating-score">').concat(t.seller.rating,'</span>\n                        </div>\n                    </div>\n                    <div class="flex items-center text-xs text-gray-500">\n                        <span class="status-indicator ').concat(t.seller.online?"online":"offline",'"></span>\n                        ').concat(t.seller.online?"在线":"离线",'\n                        <span class="ml-4">').concat(t.views,' 浏览</span>\n                        <span class="ml-2">').concat(t.favorites,' 收藏</span>\n                    </div>\n                </div>\n                \n                <div class="card-price">\n                    ¥').concat(t.price.toLocaleString(),"\n                    ").concat(t.originalPrice>t.price?'<span class="text-sm text-gray-400 line-through ml-2">¥'.concat(t.originalPrice.toLocaleString(),"</span>"):"",'\n                </div>\n                \n                <p class="text-sm text-gray-600 mb-3 line-clamp-2">').concat(t.description,"</p>\n                \n                ").concat(t.tags.length>0?'\n                    <div class="tag-cloud mb-4">\n                        '.concat(t.tags.map(function(t){return'<span class="tag">'.concat(t,"</span>")}).join(""),"\n                    </div>\n                "):"",'\n                \n                <div class="card-actions mt-4">\n                    ').concat("available"===t.status?'\n                        <button class="btn-primary" onclick="buyCard('.concat(t.id,')">立即购买</button>\n                        <button class="btn-secondary" onclick="contactSeller(').concat(t.id,')">联系卖家</button>\n                    '):"reserved"===t.status?'\n                        <button class="btn-secondary" disabled>已预定</button>\n                        <button class="btn-secondary" onclick="contactSeller('.concat(t.id,')">联系卖家</button>\n                    '):'\n                        <button class="btn-secondary" disabled>已售出</button>\n                        <button class="btn-secondary" onclick="viewSimilar('.concat(t.id,')">查看相似</button>\n                    '),"\n                </div>\n            </div>\n        </div>\n    ")}(t)}).join("");n.innerHTML=r,document.querySelectorAll(".marketplace-card").forEach(function(t){t.addEventListener("click",function(){this.dataset.cardId})})}else n.innerHTML=""}function g(t,n){var r=document.getElementById("pagination");if(r){var e=Math.ceil(t/n);if(e<=1)r.innerHTML="";else{var i="",a=c>1;i+='\n        <button class="pagination-btn px-3 py-2 rounded-lg border transition-colors '.concat(a?"border-gray-300 text-gray-700 hover:bg-gray-50":"border-gray-200 text-gray-400 cursor-not-allowed",'" \n                ').concat(a?'onclick="changePage('.concat(c-1,')"'):"disabled",'>\n            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>\n            </svg>\n        </button>\n    '),i+='\n        <span class="px-4 py-2 text-gray-700 font-medium">\n            '.concat(c," / ").concat(e,"\n        </span>\n    ");var o=c<e;i+='\n        <button class="pagination-btn px-3 py-2 rounded-lg border transition-colors '.concat(o?"border-gray-300 text-gray-700 hover:bg-gray-50":"border-gray-200 text-gray-400 cursor-not-allowed",'" \n                ').concat(o?'onclick="changePage('.concat(c+1,')"'):"disabled",'>\n            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>\n            </svg>\n        </button>\n    '),r.innerHTML=i}}}function b(){var t=document.getElementById("loading-state"),n=document.getElementById("marketplace-grid");t&&t.classList.remove("hidden"),n&&n.classList.add("hidden")}function y(){var t=document.getElementById("loading-state"),n=document.getElementById("marketplace-grid");t&&t.classList.add("hidden"),n&&n.classList.remove("hidden")}function w(){var t=document.getElementById("empty-state");t&&t.classList.remove("hidden")}function T(){var t=document.getElementById("empty-state");t&&t.classList.add("hidden")}function x(t){}document.addEventListener("DOMContentLoaded",function(){var t,n;u=[].concat(p),(n=document.getElementById("search-input"))&&n.addEventListener("input",function(){var n=this;clearTimeout(t),t=setTimeout(function(){l.search=n.value.trim(),c=1,m()},500)}),["category-filter","rarity-filter","price-filter","sort-filter"].forEach(function(t){var n=document.getElementById(t);n&&n.addEventListener("change",function(){var n=t.replace("-filter","");"price"===n?l.priceRange=this.value:l[n]=this.value,c=1,m()})}),m()}),window.changePage=function(t){c=t,m(),window.scrollTo({top:0,behavior:"smooth"})},window.clearFilters=function(){l={search:"",category:"",rarity:"",priceRange:"",sort:"newest"},document.getElementById("search-input").value="",document.getElementById("category-filter").value="",document.getElementById("rarity-filter").value="",document.getElementById("price-filter").value="",document.getElementById("sort-filter").value="newest",c=1,m()},window.buyCard=function(t){var n=u.find(function(n){return n.id===t});n&&confirm("确定要购买 ".concat(n.name," 吗？价格：¥").concat(n.price))&&alert("跳转到支付页面...")},window.contactSeller=function(t){var n=u.find(function(n){return n.id===t});n&&alert("正在联系卖家 ".concat(n.seller.name,"..."))},window.viewSimilar=function(t){var n=u.find(function(n){return n.id===t});n&&(l.category=n.category,document.getElementById("category-filter").value=n.category,c=1,m())}}},t=>{t.O(0,[502,955],()=>t(t.s=24925)),t.O()}]);