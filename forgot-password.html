<!doctype html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>å¿˜è®°å¯†ç  - å±±æµ·å¡ç‰Œäº¤æ˜“å¹³å°</title><link rel="icon" type="image/png" href="/icon.png"><link href="/css/955.f983cd0d.css" rel="stylesheet"></head><body><div class="login-container"><div class="login-card"><div class="form-container"><div class="form-header"><h2>æ‰¾å›å¯†ç </h2><p>è¯·è¾“å…¥æ‚¨çš„é‚®ç®±åœ°å€ï¼Œæˆ‘ä»¬å°†å‘é€é‡ç½®å¯†ç çš„é“¾æ¥</p></div><form id="forgot-password-form" class="auth-form"><div class="form-group"><label for="email">é‚®ç®±åœ°å€</label> <input type="email" id="email" name="email" required placeholder="è¯·è¾“å…¥æ‚¨çš„é‚®ç®±åœ°å€"> <span class="error-message" id="email-error"></span></div><button type="submit" class="btn-primary" id="send-email-btn"><span class="btn-text">å‘é€é‡ç½®é‚®ä»¶</span> <span class="btn-loading hidden"><i class="icon-loading"></i> å‘é€ä¸­...</span></button><div class="form-footer"><p>è®°èµ·å¯†ç äº†ï¼Ÿ <a href="login.html">è¿”å›ç™»å½•</a></p><p>è¿˜æ²¡æœ‰è´¦æˆ·ï¼Ÿ <a href="login.html?mode=register">ç«‹å³æ³¨å†Œ</a></p></div></form><div id="success-message" class="success-container hidden"><div class="success-icon">âœ…</div><h3>é‚®ä»¶å‘é€æˆåŠŸï¼</h3><p>æˆ‘ä»¬å·²å‘ <strong id="sent-email"></strong> å‘é€äº†å¯†ç é‡ç½®é‚®ä»¶ã€‚</p><p>è¯·æ£€æŸ¥æ‚¨çš„é‚®ç®±ï¼ˆåŒ…æ‹¬åƒåœ¾é‚®ä»¶æ–‡ä»¶å¤¹ï¼‰ï¼Œå¹¶ç‚¹å‡»é‚®ä»¶ä¸­çš„é“¾æ¥é‡ç½®å¯†ç ã€‚</p><div class="success-actions"><button onclick="resendEmail()" class="btn-secondary" id="resend-btn">é‡æ–°å‘é€é‚®ä»¶</button> <a href="login.html" class="btn-primary">è¿”å›ç™»å½•</a></div></div></div><div class="bg-decoration"><div class="card-float card-1"></div><div class="card-float card-2"></div><div class="card-float card-3"></div></div></div></div><script>let isSubmitting=!1,lastEmailSent="";async function handleForgotPassword(e){if(e.preventDefault(),isSubmitting)return;const t=e.target,s=new FormData(t).get("email").trim();if(validateEmailFormat(s))try{isSubmitting=!0,setButtonLoading("send-email-btn",!0),console.log("ğŸ”„ æ­£åœ¨å‘é€é‡ç½®å¯†ç é‚®ä»¶...",{email:s});const e=await sendResetPasswordEmail(s);console.log("âœ… é‚®ä»¶å‘é€æˆåŠŸ:",e),showSuccessMessage(s),lastEmailSent=s}catch(e){console.error("âŒ å‘é€é‚®ä»¶å¤±è´¥:",e);let t="å‘é€é‚®ä»¶å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•";404===e.status?t="è¯¥é‚®ç®±åœ°å€æœªæ³¨å†Œ":429===e.status?t="å‘é€è¿‡äºé¢‘ç¹ï¼Œè¯·ç¨åå†è¯•":e.message&&(t=e.message),showMessage(t,"error")}finally{isSubmitting=!1,setButtonLoading("send-email-btn",!1)}}async function sendResetPasswordEmail(e){const t=await fetch("/v1/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({email:e})}),s=await t.json();if(!t.ok){const e=new Error(s.message||"å‘é€é‚®ä»¶å¤±è´¥");throw e.status=t.status,e}return s}function validateEmailFormat(e){if(!e)return showFieldError("email-error","è¯·è¾“å…¥é‚®ç®±åœ°å€"),!1;return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?(clearFieldError("email-error"),!0):(showFieldError("email-error","è¯·è¾“å…¥æœ‰æ•ˆçš„é‚®ç®±åœ°å€"),!1)}function validateEmail(){validateEmailFormat(document.getElementById("email").value.trim())}function clearEmailError(){clearFieldError("email-error")}function showSuccessMessage(e){const t=document.getElementById("forgot-password-form"),s=document.getElementById("success-message"),n=document.getElementById("sent-email");t&&s&&n&&(t.style.display="none",n.textContent=e,s.classList.remove("hidden"))}async function resendEmail(){if(lastEmailSent)try{setButtonLoading("resend-btn",!0),await sendResetPasswordEmail(lastEmailSent),showMessage("é‚®ä»¶å·²é‡æ–°å‘é€","success")}catch(e){console.error("âŒ é‡æ–°å‘é€é‚®ä»¶å¤±è´¥:",e),showMessage("é‡æ–°å‘é€å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•","error")}finally{setButtonLoading("resend-btn",!1)}}function setButtonLoading(e,t){const s=document.getElementById(e);if(!s)return;const n=s.querySelector(".btn-text"),o=s.querySelector(".btn-loading");t?(s.disabled=!0,n&&n.classList.add("hidden"),o&&o.classList.remove("hidden")):(s.disabled=!1,n&&n.classList.remove("hidden"),o&&o.classList.add("hidden"))}function showFieldError(e,t){const s=document.getElementById(e);s&&(s.textContent=t,s.style.display="block")}function clearFieldError(e){const t=document.getElementById(e);t&&(t.textContent="",t.style.display="none")}document.addEventListener("DOMContentLoaded",function(){console.log("ğŸ”„ å¿˜è®°å¯†ç é¡µé¢åˆå§‹åŒ–...");const e=document.getElementById("forgot-password-form");e&&e.addEventListener("submit",handleForgotPassword);const t=document.getElementById("email");t&&(t.addEventListener("blur",validateEmail),t.addEventListener("input",clearEmailError)),console.log("âœ… å¿˜è®°å¯†ç é¡µé¢åˆå§‹åŒ–å®Œæˆ")})</script><style>.success-container{text-align:center;padding:40px 20px}.success-icon{font-size:48px;margin-bottom:20px}.success-container h3{color:var(--text-primary);font-size:24px;margin-bottom:16px}.success-container p{color:var(--text-secondary);line-height:1.6;margin-bottom:12px}.success-actions{margin-top:30px;display:flex;gap:12px;justify-content:center;flex-wrap:wrap}.btn-secondary{background:var(--btn-secondary-bg);color:#fff;padding:12px 24px;border:none;border-radius:8px;font-size:14px;font-weight:500;cursor:pointer;transition:all .3s ease;text-decoration:none;display:inline-block}.btn-secondary:hover{background:var(--btn-secondary-hover);transform:translateY(-1px)}.form-footer{text-align:center;margin-top:25px;font-size:14px;color:var(--text-secondary)}.form-footer p{margin-bottom:8px}.form-footer a{color:var(--accent-primary);text-decoration:none;font-weight:500;transition:color .3s ease}.form-footer a:hover{color:var(--btn-primary-hover);text-decoration:underline}</style><script defer="defer" src="/js/runtime.eaa2a988.js"></script><script defer="defer" src="/js/vendor.3230c899.js"></script><script defer="defer" src="/js/955.5ee0a946.js"></script><script defer="defer" src="/js/622.43d28a7c.js"></script><script defer="defer" src="/js/forgot-password.e00b80fe.js"></script></body></html>